<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title> Set Object </title>    
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.3.1/css/all.css" integrity="sha384-mzrmE5qonljUremFsqc01SB46JvROS7bZs3IO2EmfFsd15uHvIt+Y8vEf7N7fWAU" crossorigin="anonymous"> 
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <link rel="stylesheet" href="../../../Assets/stylesPages.css">
    <script src="../../../Assets/scriptPages.js"></script>
</head>
<body>
<h1> Set and WeakSet Objects (ver 4.0.0) </h1>
    <p> Updated ( 2018-07-21 / 2019-12-14 )</p>
    <p class="sitenav"> <a href="../../../index.html">MySite></a>
        <a href="../../index.html">JavaScript></a>
        <a href="../index.html"> Objects> </a> Set and WeakSet Objects 
    </p>
<table class="table">
<caption> 
    Set Object 
    <span class="changeListOrder">[Ordered: <span>Alphabetically</span>]</span>
</caption>
    <tr>
        <th style="width:30%;"> Method / Property </th>
        <th> Descriptions </th>
    </tr>
    <tr class="00">
        <td> new Set(<i>iterableObj</i>) </td>
        <td> - creates a new Set object from the passed iterable object <br>
             - the Set object is an <u>iterator</u> object which holds <u>unique primitives and object references</u> (does not hold unique objects) <br>
             - items only accessible by the <mark>forEach()</mark> method or by the <mark>for... of</mark> loop 
            <span id="browserSupport" title="updated : 2019-12-14">
                <span><i class="fab fa-chrome"></i> 38 </span>
                <span><i class="fab fa-firefox"></i> 13 </span>
                <span><i class="fab fa-opera"></i> 25 </span>
                <span><i class="fab fa-internet-explorer"></i><i class="fab fa-edge"></i> 11 </span>
                <span><i class="fab fa-safari"></i> 8 </span>
                <span><i class="fab fa-node-js"></i> 0.12 </span>
            </span>
        </td>
    </tr>
    <tr class="02.02">
        <td> <strong>setObj</strong>.add(<strong>value</strong>) </td>
        <td> - adds the passed value at the end of the Set object and returns the Set object itself (with the newly added item)
            <span id="browserSupport" title="updated : 2019-12-14">
                <span><i class="fab fa-chrome"></i> 38 </span>
                <span><i class="fab fa-firefox"></i> 13 </span>
                <span><i class="fab fa-opera"></i> 25 </span>
                <span><i class="fab fa-internet-explorer"></i><i class="fab fa-edge"></i> 12 / 11 returns undefined </span>
                <span><i class="fab fa-safari"></i> 8 </span>
                <span><i class="fab fa-node-js"></i> 0.12 </span>
            </span>
        </td>
    </tr>
    <tr class="03.02">
        <td> <strong>setObj</strong>.clear() </td>
        <td> - removes all items from the Set object (no return value) 
            <span id="browserSupport" title="updated : 2019-12-14">
                <span><i class="fab fa-chrome"></i> 38 </span>
                <span><i class="fab fa-firefox"></i> 19 </span>
                <span><i class="fab fa-opera"></i> 25 </span>
                <span><i class="fab fa-internet-explorer"></i><i class="fab fa-edge"></i> 11 </span>
                <span><i class="fab fa-safari"></i> 8 </span>
                <span><i class="fab fa-node-js"></i> 0.12 </span>
            </span>
        </td>
    </tr>
    <tr class="03.01">
        <td> <strong>setObj</strong>.delete(<strong>value</strong>) </td>
        <td> - removes the specified item from the set object and returns a boolean value indicating the success or failure of the operation <br>
             - this does not leave a hole in Set object, items will shift in order to fill the gap     
            <span id="browserSupport" title="updated : 2019-12-15">
                <span><i class="fab fa-chrome"></i> 38 </span>
                <span><i class="fab fa-firefox"></i> 13 </span>
                <span><i class="fab fa-opera"></i> 25 </span>
                <span><i class="fab fa-internet-explorer"></i><i class="fab fa-edge"></i> 11 </span>
                <span><i class="fab fa-safari"></i> 8 </span>
                <span><i class="fab fa-node-js"></i> 0.12 </span>
            </span>
        </td>
    </tr>
    <tr class="04.03">
        <td> <strong>setObj</strong>.entries() </td>
        <td> - returns an iterator object containing the Set object items in format <mark>SetIterator{[sameVal, sameVal], ...}</mark> 
            <span id="browserSupport" title="updated : 2019-12-14">
                <span><i class="fab fa-chrome"></i> 38 </span>
                <span><i class="fab fa-firefox"></i> 24 </span>
                <span><i class="fab fa-opera"></i> 25 </span>
                <span><i class="fab fa-internet-explorer"></i><i class="fab fa-edge"></i> 11 </span>
                <span><i class="fab fa-safari"></i> 8 </span>
                <span><i class="fab fa-node-js"></i> 0.12 </span>
            </span>
        </td>
    </tr>
    <tr class="05">
        <td> <strong>setObj</strong>.forEach(<strong>fn(val, val, setObj)</strong>, <i>thisValue</i>) </td>
        <td> - runs the callback function for each item in the set object in the insertion order (items are returned as 1st and 2nd argument (same item)) 
            <span id="browserSupport" title="updated : 2019-12-16">
                <span><i class="fab fa-chrome"></i> 38 </span>
                <span><i class="fab fa-firefox"></i> 25 </span>
                <span><i class="fab fa-opera"></i> 25 </span>
                <span><i class="fab fa-internet-explorer"></i><i class="fab fa-edge"></i> 11 </span>
                <span><i class="fab fa-safari"></i> 8 </span>
                <span><i class="fab fa-node-js"></i> 0.12 </span>
            </span>
        </td>
    </tr>
    <tr class="02.03">
        <td> <strong>setObj</strong>.has(<strong>value</strong>) </td>
        <td> - returns <mark>true</mark> if the Set object contains the specified item, otherwise returns <mark>false</mark> 
            <span id="browserSupport" title="updated : 2019-12-14">
                <span><i class="fab fa-chrome"></i> 38 </span>
                <span><i class="fab fa-firefox"></i> 19 </span>
                <span><i class="fab fa-opera"></i> 25 </span>
                <span><i class="fab fa-internet-explorer"></i><i class="fab fa-edge"></i> 11 </span>
                <span><i class="fab fa-safari"></i> 8 </span>
                <span><i class="fab fa-node-js"></i> 0.12 </span>
            </span>
        </td>
    </tr>
    <tr class="04.02">
        <td> <strong>setObj</strong>.keys() </td>
        <td> - returns an iterator object containing the Set object items (same as the <mark>values()</mark> method) 
            <span id="browserSupport" title="updated : 2019-12-15">
                <span><i class="fab fa-chrome"></i> 38 </span>
                <span><i class="fab fa-firefox"></i> 24 </span>
                <span><i class="fab fa-opera"></i> 25 </span>
                <span><i class="fab fa-internet-explorer"></i><i class="fab fa-edge"></i> 12 </span>
                <span><i class="fab fa-safari"></i> 8 </span>
                <span><i class="fab fa-node-js"></i> 0.12 </span>
            </span>
        </td>
    </tr>
    <tr class="01">
        <td> <strong>setObj</strong>.size </td>
        <td> - returns the number of items held 
            <span id="browserSupport" title="updated : 2019-12-14">
                <span><i class="fab fa-chrome"></i> 38 </span>
                <span><i class="fab fa-firefox"></i> 19 </span>
                <span><i class="fab fa-opera"></i> 25 </span>
                <span><i class="fab fa-internet-explorer"></i><i class="fab fa-edge"></i> 11 </span>
                <span><i class="fab fa-safari"></i> 8 </span>
                <span><i class="fab fa-node-js"></i> 0.12 </span>
            </span>
        </td>
    </tr>
    <tr class="04.01">
        <td> <strong>setObj</strong>.values() </td>
        <td> - returns an iterator object containing the Set object items (same as the <mark>keys()</mark> method) 
            <span id="browserSupport" title="updated : 2019-12-15">
                <span><i class="fab fa-chrome"></i> 38 </span>
                <span><i class="fab fa-firefox"></i> 24 </span>
                <span><i class="fab fa-opera"></i> 25 </span>
                <span><i class="fab fa-internet-explorer"></i><i class="fab fa-edge"></i> 12 </span>
                <span><i class="fab fa-safari"></i> 8 </span>
                <span><i class="fab fa-node-js"></i> 0.12 </span>
            </span>
        </td>
    </tr>
</table>
    <br>
<table class="table">
<caption>
    WeakSet Object 
    <span class="changeListOrder">[Ordered: <span>Alphabetically</span>]</span>
</caption>
    <tr>
        <th style="width:30%;"> Method / Property </th>
        <th> Descriptions </th>
    </tr>
    <tr class="00">
        <td> new WeakSet(<i>iterableObj</i>) </td>
        <td> 
            - creates and returns a new WeakSet object from the passed iterable object <br>
            - it is a garbage collection tool <u>(not iterable)</u>, holds unique <u>object references</u> 
            - marks unreferenced object references for garbage collection <u>if they are NOT referenced</u> <br>
            - if the item is garbage collected it is removed from the WeakSet object automatically 
            <span id="browserSupport" title="updated : 2019-12-16">
                <span><i class="fab fa-chrome"></i> 36 </span>
                <span><i class="fab fa-firefox"></i> 34 </span>
                <span><i class="fab fa-opera"></i> 23 </span>
                <span><i class="fab fa-internet-explorer"></i><i class="fab fa-edge"></i> 12 </span>
                <span><i class="fab fa-safari"></i> 9 </span>
                <span><i class="fab fa-node-js"></i> 0.12 </span>
            </span>
        </td>
    </tr>
    <tr class="01.01">
        <td> <strong>weakSetObj</strong>.add(<strong>objRef</strong>) </td>
        <td> - adds an object references at the end of the WeakSet object and returns the WeakSet object itself (added object reference included)
            <span id="browserSupport" title="updated : 2019-12-16">
                <span><i class="fab fa-chrome"></i> 36 </span>
                <span><i class="fab fa-firefox"></i> 34 </span>
                <span><i class="fab fa-opera"></i> 23 </span>
                <span><i class="fab fa-internet-explorer"></i><i class="fab fa-edge"></i> 12 </span>
                <span><i class="fab fa-safari"></i> 9 </span>
                <span><i class="fab fa-node-js"></i> 0.12 </span>
            </span>
        </td>
    </tr>
    <tr class="03">
        <td> <strong>weakSetObj</strong>.delete(<strong>objRef</strong>) </td>
        <td> - removes the specified object reference from the weakSet object and returns a boolean value indicating the success or failure of the operation
            <span id="browserSupport" title="updated : 2019-12-16">
                <span><i class="fab fa-chrome"></i> 36 </span>
                <span><i class="fab fa-firefox"></i> 34 </span>
                <span><i class="fab fa-opera"></i> 23 </span>
                <span><i class="fab fa-internet-explorer"></i><i class="fab fa-edge"></i> 12 </span>
                <span><i class="fab fa-safari"></i> 9 </span>
                <span><i class="fab fa-node-js"></i> 0.12 </span>
            </span>
        </td>
    </tr>
    <tr class="01.02">
        <td> <strong>weakSetObj</strong>.has(<strong>objRef</strong>) </td>
        <td> - retruns <mark>true</mark> if the passed object reference exist in the WeakSet object, otherwiser returns <mark>false</mark>
            <span id="browserSupport" title="updated : 2019-12-16">
                <span><i class="fab fa-chrome"></i> 36 </span>
                <span><i class="fab fa-firefox"></i> 34 </span>
                <span><i class="fab fa-opera"></i> 23 </span>
                <span><i class="fab fa-internet-explorer"></i><i class="fab fa-edge"></i> 12 </span>
                <span><i class="fab fa-safari"></i> 9 </span>
                <span><i class="fab fa-node-js"></i> 0.12 </span>
            </span>
        </td>
    </tr>    
</table>
<h2 style="color:green;"><u> Notes : </u></h2>
    <details class="example" id="notes">
    <summary> Notes :</summary>
        <!-- <p> - paragraph removes the 'empty' message from the detail TAG -->
    </details>
<h2 style="color:green;"><u> Useful Links : </u></h2>
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Set" target="blank">MDN Set Object</a></p>
<h2 style="color:green;"><u> Remember This : </u></h2>
    <p> - Set object items accessible by the <mark>forEach()</mark> method or by the <mark>for... of</mark> loop <u>because it is an iterator object</u> (we cannot access Set items like Array items (ex: <mark>Set[0]</mark> this always returns undefined)) </p>
<h2 style="color:green;"><u> Description and Demonstration : </u></h2>
<h2 class="headerExtra"><u> The <mark>Set</mark> Object </u></h2>
    <p> - the <mark>Set</mark> object is an <u>iteror</u> object which holds <u>unique primitives</u> or objects </p>
    <p> - the Set object uses the <mark>===</mark> (same value equality operator) to check for equal primitives or equal object references, <u>the latest equal value overwrites the previous one!</u> </p> 
    <p style="color:yellow;"> - Set object items accessible by the <mark>forEach()</mark> method or by the <mark>for... of</mark> loop <u>because it is an iterator object</u> (we cannot access Set items like Array items (ex: <mark>Set[0]</mark> this always returns undefined)) </p>
<details class="example">
<summary> DEMO </summary>
    <pre>
    var myObj = {p1:'val'};
    
    var mySet = new Set(['str', 32, 32, myObj, myObj, {x1:74}, {x1:74}]);              // only the first 32 and 'myObj' object reference is held   
                                                                                       // -! both the same unreferenced objects ({x1:74}) are held because the Set object doesn't do object comparison     
// accessing items --------------------------------------------------------------------
    mySet.forEach((val) => {
        val;                                                                           // -> 'str' | 32 | {p1:'val'} | {x1:74} | {x1:74}
    });
    
    for(i of mySet) {                                                                  // we can use the for... of loop for iterating through iterator object items  
        i;                                                                             // -> 'str' | 32 | {p1:'val'} | {x1:74} | {x1:74} 
    }   
    
    mySet[0];                                                                          // -> undefined     // -! Set object items cannot be accessed as Array items (because the Set is an iterator object)    
    mySet[0];                                                                          // -> undefined   
    </pre>
</details>
<details class="example">
<summary> Example : </summary>
<h4 style="color:darkblue;"><u> <mark>Set</mark> object TEST </u></h4>
    <button onmouseup="setObjTest()">RUN TEST (see result in console)</button>
<script>
var setObjTest = function(){
    var mySymbol = Symbol('mySymbol');
    var myObj = {property1:'val', subObj:{subProperty:'val'}};
    
    var mySet = new Set(['string', 32, 45n, 'string', myObj, false, null, [1, 2, 3], [1, 2, 3]]);
    
    console.log( mySet );                   // -> Set{string", 32, 45n, {property1:'val', subObj:{subProperty:'val'}}, false, null, [1, 2, 3], [1, 2, 3]}
};
</script>
        <details>
        <summary> CODE : </summary>
        <pre>
    &lt;button onmouseup="setObjTest()"&gt;RUN TEST (see result in console)&lt;/button&gt;
&lt;script&gt;
var setObjTest = function(){
    var mySymbol = Symbol('mySymbol');
    var myObj = {property1:'val', subObj:{subProperty:'val'}};
    
    var mySet = new Set(['string', 32, 45n, 'string', myObj, false, null, [1, 2, 3], [1, 2, 3]]);
    
    console.log( mySet );                   // -&gt; Set{string", 32, 45n, {property1:'val', subObj:{subProperty:'val'}}, false, null, [1, 2, 3], [1, 2, 3]}
};
&lt;/script&gt;
        </pre>
        </details>
</details>
<!---------------------------------------------------------------------------------------------------------------------------->    
<hr>
<h2 style="color:darkblue;"><u> The <mark>size</mark> / <mark>add()</mark> / <mark>has()</mark> property and methods </u></h2>
<details class="example">
<summary> DEMO </summary>
    <pre>
    var mySet = new Set(['book', 'booklet']);
    
// size -------------------------------------------------------------------------------
    mySet.size;                                                                        // -> 2
    
// add() / has() ----------------------------------------------------------------------
    mySet.has('frame');                                                                // -> false
    
    mySet.add('frame');                                                                // -> Set{'book', 'booklet', 'frame'}        // adds the 'frame' item at the end of the Set object and returns the Set object itself with the added item     
    mySet.has('frame');                                                                // -> true
    </pre>
</details>
<details class="example">
<summary> Example : </summary>
<h4 style="color:darkblue;"><u> <mark>add()</mark> / <mark>has()</mark> TEST </u></h4>
    <p id="hasIt"></p>
<script>
    var yankee = new Set(["black", "white"]);
    yankee.add("red");
// print
    document.getElementById("hasIt").innerHTML = 
        "Set lenght = " + yankee.size + 
        " and Has the new Item = " + yankee.has("red");
</script>
        <details>
        <summary> CODE : </summary>
        <pre>
    &lt;p id="hasIt"&gt;&lt;/p&gt;
&lt;script&gt;
    var yankee = new Set(["black", "white"]);
    yankee.add("red");
// print
    document.getElementById("hasIt").innerHTML = 
        "Set lenght = " + yankee.size + 
        " and Has the new Item = " + yankee.has("red");
&lt;/script&gt;
        </pre>
        </details>
<!---------------------------------------------------------------------------------------------------------------------------->    
<hr>
<h4 style="color:darkblue;"><u> <mark>size</mark> TEST </u></h4>
    <p id="countIt"></p>
<script>
    var keyboard = {mark:"bloody", wired:true, serie:457};
    var nrArray = [1, 2, 3, 4];
    var collection = new Set([keyboard, nrArray, "string_A", "string_B", false]);
// print
    document.getElementById('countIt').innerHTML = collection.size;
</script>
        <details>
        <summary> CODE : </summary>
        <pre>
    &lt;p id="countIt"&gt;&lt;/p&gt;
&lt;script&gt;
    var keyboard = {mark:"bloody", wired:true, serie:457};
    var nrArray = [1, 2, 3, 4];
    var collection = new Set([keyboard, nrArray, "string_A", "string_B", false]);
// print
    document.getElementById('countIt').innerHTML = collection.size;
&lt;/script&gt;
        </pre>
        </details>
</details>
<!---------------------------------------------------------------------------------------------------------------------------->    
<hr>    
<h2 style="color:darkblue;"><u> The <mark>delete()</mark> / <mark>clear()</mark> methods </u></h2>  
<details class="example">
<summary> DEMO </summary>
    <pre>
    var mySet = new Set(["uno", "due", "tree"]);
    
// delete() ---------------------------------------------------------------------------
    mySet.delete("due");                                                               // -> true               // item successfully removed 
    mySet.delete("gold");                                                              // -> false              // delete failed   
    
    mySet;                                                                             // -> Set{'uno', 'tree'} // -! removing an item does not leave a empty item slot    
    
// clear() ----------------------------------------------------------------------------
    mySet.clear();                                                                     // removes all Set items (no return value) 
    
    mySet;                                                                             // -> Set{}
    </pre>
</details>
<details class="example">
    <summary> Example : </summary>
<script>
    var cows = new Set(["rizska", "bimbo", "lily", "rozi"]);
    var del = cows.delete("bimbo");                 // returns "true"
    cows.clear();                                   // "cows" empty
</script>
        <details>
        <summary> CODE : </summary>
        <pre>
&lt;script&gt;
    var cows = new Set(["rizska", "bimbo", "lily", "rozi"]);
    var del = cows.delete("bimbo");                 // returns "true"
    cows.clear();                                   // "cows" empty
&lt;/script&gt;
        </pre>
        </details>  
</details>
<!---------------------------------------------------------------------------------------------------------------------------->    
<hr>    
<h2 style="color:darkblue;"><u> The <mark>values()</mark> / <mark>keys()</mark> / <mark>entries()</mark> methods </u></h2>
<details class="example">
<summary> DEMO </summary>
    <pre>
    var mySet = new Set([4, 47, "ksdf", false]);
    
    var valIterator = mySet.values();                                                  // -> SetIterator{4, 47, 'ksdf', false}
        valIterator.next();                                                            // -> {value:4, done:false}
        
    var keyIterator = mySet.keys();                                                    // -> SetIterator{4, 47, 'ksdf', false}
        valIterator.next();                                                            // -> {value:4, done:false}
        
    var entriesIterator = mySet.entries();                                             // -> SetIterator{[4, 4], [47, 47], ['ksdf', 'ksdf'], [false, false]}   
        valIterator.next();                                                            // -> {value:[4, 4], done:false}
    </pre>
</details>
<details class="example">
    <summary> Example : </summary>    
    <p id="iterate"></p>
<script>
    var sheeps = new Set(["bari", "dofi", "potyos"])
    var itSheeps_val = sheeps.values().next().value;
    var itSheeps_keys = sheeps.keys().next().value;
    var itSheeps_entries = sheeps.entries().next().value;
// print
    document.getElementById('iterate').innerHTML = 
        "values iterator returns = " + itSheeps_val + "<br>" +
        "keys iterator returns = " + itSheeps_keys + "<br>" +
        "entires iterator returns = " + itSheeps_entries;
</script>
        <details>
        <summary> CODE : </summary>
        <pre>
    &lt;p id="iterate"&gt;&lt;/p&gt;
&lt;script&gt;
    var sheeps = new Set(["bari", "dofi", "potyos"])
    var itSheeps_val = sheeps.values().next().value;
    var itSheeps_keys = sheeps.keys().next().value;
    var itSheeps_entries = sheeps.entries().next().value;
// print
    document.getElementById('iterate').innerHTML = 
        "values iterator returns = " + itSheeps_val + "&lt;br&gt;" +
        "keys iterator returns = " + itSheeps_keys + "&lt;br&gt;" +
        "entires iterator returns = " + itSheeps_entries;
&lt;/script&gt;        
        </pre>
        </details>
</details>
<!---------------------------------------------------------------------------------------------------------------------------->    
<hr>
<h2 style="color:darkblue;"><u> The <mark>forEach()</mark> method </u></h2>  
<details class="example">
<summary> DEMO </summary>
    <pre>
    var laptop = new Set(["Acer", "Lenovo", "IBM", "Apple"]);
    var thisObject = {p1:'val'};
    
    laptop.forEach(function(val1, val2, setObj){
        val1;                                                                          // -> 'Acer' | 'Lenovo' | 'IBM' | 'Apple'
        val2;                                                                          // -> 'Acer' | 'Lenovo' | 'IBM' | 'Apple'
        setObj;                                                                        // -> Set{"Acer", "Lenovo", "IBM", "Apple"} | ...        // the set object itself 
        this;                                                                          // -> {p1:'val'} | ...                                   // the this keyword references the passed 2nd argument    
    }, thisObject);   
    </pre>
</details>
<details class="example">
    <summary> Example : </summary>
    <p id="forOf"></p>
    <p id="forEach"></p>
<script>
$(function(){
    var vegetables = new Set(["carot", 41, "potato", 74, "cauliflower", 23]);
// for in loop 
    for(let i of vegetables) {
        $("#forOf").append(i + " / ");
    }
// forEach() method
    vegetables.forEach((val1, val2) => {$("#forEach").append("(value1 = " + val1 + ", value2 = " + val2 + ") / ")});
});
</script>
        <details>
        <summary> CODE : </summary>
        <pre>
    &lt;p id="forOf"&gt;&lt;/p&gt;
    &lt;p id="forEach"&gt;&lt;/p&gt;
&lt;script&gt;
$(function(){
    var vegetables = new Set(["carot", 41, "potato", 74, "cauliflower", 23]);
// for in loop 
    for(let i of vegetables) {
        $("#forOf").append(i + " / ");
    }
// forEach() method
    vegetables.forEach((val1, val2) => {$("#forEach").append("(value1 = " + val1 + ", value2 = " + val2 + ") / ")});
});
&lt;/script&gt;
        </pre>
        </details>
</details>
<!---------------------------------------------------------------------------------------------------------------------------->    
<hr>
<h2 class="headerExtra"><u> The <mark>WeakSet</mark> Object </u></h2>
    <p> - the WeakSet object is basically an object garbage collection tool, marks unreferenced objects for garbage collection </p>
    <p> - it "weakly" holds <u>unique object references only</u> if the held object reference is not referenced than it will be garbage collected </p>
    <p> - because objects are weakly held there is no iterator list to keep track of them, so the <u>WeakSet object is not iterable</u> </p>
<details class="example">
<summary> DEMO </summary>
    <pre>
// !! the WeakSet object marks unreferenced object references for gargabe collection, BUT the garbage collection is platform specific, so this code might result different outcomes depending on platform garbage collection speed    
    var myObj = {p1:'val'};
    var myObj = {p1:'val'};
    var myObj2 = {p1:'val'};
    
    var myWeakSet = new WeakSet([myObj, myObj, myObj2, {x1:'val'}, {x2:'val'}]);       // unreferenced objects will be automatically garbage collected ({x1:'val'}, {x2:'val')    
    
    myWeakSet:                                                                         // -> WeakSet{{p1:'val'}, {p2:'val2'}}
    
    var myObj = 'new value';                                                           // the 'myObj' variable does not reference the {p1:'val'} object any more   
    
    myWeakSet;                                                                         // -> WeakSet{p2:'val2'}             // the {p1:'val1'} object is garbage collected
    </pre>
</details>
<details class="example">
<summary> Example : </summary>
<h4 style="color:darkblue;"><u> <mark>WeakSet</mark> TEST-1 </u></h4>
    <button onmouseup="weakSetTest()"> RUN TEST (result in console)</button>
<script>
var weakSetTest = function(){
    var myObj1 = {p1:'val1'};
    var myObj2 = {p2:'val2'};
    
    var myWeakSet = new WeakSet([myObj1, myObj2, {prop:'val'}]);           // unreferenced objects will be garbage collected (3rd item)
    
    console.log( myWeakSet );                                              // -> WeakSet{{p1:'val1'}, {p2:'val2'}}
        
    setTimeout(()=>{
        myObj2.p2                                                          // myObj2 is referenced so it is not garbage collected 
        console.log( myWeakSet );                                          // -> WeakSet{{p1:'val1'}}   // unreferenced objects are garbage collected  
    }, 2000);
};
</script>
        <details>
        <summary> CODE : </summary>
        <pre>
    &lt;button onmouseup="weakSetTest()"&gt; RUN TEST (result in console)&lt;/button&gt;
&lt;script&gt;
var weakSetTest = function(){
    var myObj1 = {p1:'val1'};
    var myObj2 = {p2:'val2'};
    
    var myWeakSet = new WeakSet([myObj1, myObj2, {prop:'val'}]);           // unreferenced objects will be garbage collected (3rd item)
    
    console.log( myWeakSet );                                              // -&gt; WeakSet{{p1:'val1'}, {p2:'val2'}}
        
    setTimeout(()=&gt;{
        myObj2.p2                                                          // myObj2 is referenced so it is not garbage collected 
        console.log( myWeakSet );                                          // -&gt; WeakSet{{p1:'val1'}}   // unreferenced objects are garbage collected  
    }, 2000);
};
&lt;/script&gt;
        </pre>
        </details>
</details>
<!---------------------------------------------------------------------------------------------------------------------------->    
<hr>
<h2 style="color:darkblue;"><u> The <mark>add()</mark> / <mark>has()</mark> / <mark>delete()</mark> methods </u></h2>
<details class="example">
<summary> DEMO </summary>
    <pre>
    var myObj1 = {p1:'val1'}
    var myObj2 = {p2:'val2'}
    
    var myWeakSet = new WeakSet();
    
// add() ------------------------------------------------------------------------------
    myWeakSet.add(myObj1);                                                             // -> WeakSet{{p1:'val1'}}                   // adds new object references    
    myWeakSet.add(myObj2);                                                             // -> WeakSet{{p1:'val1'}, {p2:'val2'}}
        
// delete() ---------------------------------------------------------------------------
    myWeakSet.delete(myObj2);                                                          // -> true                                   // object reference successfully deleted   
    myWeakSet.delete(noObj);                                                           // -> false                                  // delete objeration failed (no such object reference)    
    
// has() ------------------------------------------------------------------------------
    myWeakSet.has(myObj1);                                                             // -> true                                   // the WeakSet has this object reference    
    myWeakSet.has(myObj2);                                                             // -> false                                  // the WeakSet does not have this object reference (because it was deleted)    
    
    myObj1 = 'new value';                                                              // varialbe has a new value assigned to (so it does not references the {p1:'val1'} object any more = WeakSet marks it for garbage collection)    
    myWeakSet.has(myObj1);                                                             // -> false                                  // the WeakSet does not have this object reference (because its object value was garbage collected)    
    </pre>
</details>
<details class="example">
<summary> Example : </summary>
<h4 style="color:darkblue;"><u> <mark>add()</mark> / <mark>has()</mark> / <mark>delete()</mark> TEST </u></h4>
    <button onmouseup="weakSetMethods()"> RUN TEST (result in console)</button>
<script>
var weakSetMethods = function(){
    var myObj1 = {p1:'val1'}
    var myObj2 = {p2:'val2'}
    var myObj3 = {p3:'val3'}
    var NOObj = {}
    
    var myWeakSet = new WeakSet();
    
// add() ------------------------------------------------------------------------
    console.log( myWeakSet.add(myObj1) );                                        // -> WeakSet{{p1:'val1'}}                     // object reference added    
    console.log( myWeakSet.add(myObj2) );                                        // -> WeakSet{{p1:'val1'}, {p2:'val2'}}
    console.log( myWeakSet.add(myObj3) );                                        // -> WeakSet{{p1:'val1'}, {p2:'val2'}, {p3:'val3'}}
    
// delete() ---------------------------------------------------------------------
    console.log( myWeakSet.delete(myObj3) );                                     // -> true                                     // object reference removed    
    console.log( myWeakSet.delete(NOObj) );                                      // -> false                                    // operation failed 
    
// ------------------------------------------------------------------------------
    myObj2 = {}                                                                  // variable references a new value
    
// has() ------------------------------------------------------------------------
    console.log( myWeakSet.has(myObj1) );                                        // -> true                                     // WeakSet contains this object reference    
    console.log( myWeakSet.has(myObj2) );                                        // -> false                                    // WeakSet does not have this object reference (because it is deleted from it)    
    console.log( myWeakSet.has(myObj3) );                                        // -> false                                    // WeakSet does not have this object reference (because its value is garbage collected)    
};
</script>
        <details>
        <summary> CODE : </summary>
        <pre>
    &lt;button onmouseup="weakSetMethods()"&gt; RUN TEST (result in console)&lt;/button&gt;
&lt;script&gt;
var weakSetMethods = function(){
    var myObj1 = {p1:'val1'}
    var myObj2 = {p2:'val2'}
    var myObj3 = {p3:'val3'}
    var NOObj = {}
    
    var myWeakSet = new WeakSet();
    
// add() ------------------------------------------------------------------------
    console.log( myWeakSet.add(myObj1) );                                        // -&gt; WeakSet{{p1:'val1'}}                     // object reference added    
    console.log( myWeakSet.add(myObj2) );                                        // -&gt; WeakSet{{p1:'val1'}, {p2:'val2'}}
    console.log( myWeakSet.add(myObj3) );                                        // -&gt; WeakSet{{p1:'val1'}, {p2:'val2'}, {p3:'val3'}}
    
// delete() ---------------------------------------------------------------------
    console.log( myWeakSet.delete(myObj3) );                                     // -&gt; true                                     // object reference removed    
    console.log( myWeakSet.delete(NOObj) );                                      // -&gt; false                                    // operation failed 
    
// ------------------------------------------------------------------------------
    myObj2 = {}                                                                  // variable references a new value
    
// has() ------------------------------------------------------------------------
    console.log( myWeakSet.has(myObj1) );                                        // -&gt; true                                     // WeakSet contains this object reference    
    console.log( myWeakSet.has(myObj2) );                                        // -&gt; false                                    // WeakSet does not have this object reference (because it is deleted from it)    
    console.log( myWeakSet.has(myObj3) );                                        // -&gt; false                                    // WeakSet does not have this object reference (because its value is garbage collected)    
};
&lt;/script&gt;
        </pre>
        </details>
</details>
    
    <br><br>
</body>
</html>