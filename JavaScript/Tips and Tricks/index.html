<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<title> Tips and Tricks </title>    
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <link rel="stylesheet" type="text/css" href="styles.css">
	<link rel="stylesheet" href="../../Assets/stylesPages.css">
    <script src="../../Assets/scriptPages.js"></script>
</head>
<body>
<h1> Tips and Tricks </h1>
    <p> Updated ( 2017-12-25 / 2018-08-10 / 2018-10-30 )</p>
    <p class="sitenav"> <a href="../../index.html">MySite></a>
        <a href="../index.html">JavaScript></a> Tips and Tricks 
    </p>
<h2 style="color:green;"><u> Useful Links : </u></h2>
    <p><a href="https://www.w3schools.com/js/js_best_practices.asp" target="_blank">W3Schools JavaScript Best Practices</a></p>
    <p><a href="https://www.w3schools.com/js/js_mistakes.asp" target="_blank">W3Schools JavaScript Mistakes</a></p>
    <p><a href="https://www.w3schools.com/js/js_performance.asp" target="_blank">W3Schools JavaScript Performance </a></p>
    <p><a href="https://www.w3schools.com/js/js_reserved.asp" target="_blank">W3Schools JavaScript Reserved Words</a></p>
    <p><a href="https://www.w3schools.com/js/js_versions.asp" target="_blank">W3Schools JavaScript Versions</a></p>
<h2 style="color:green;"><u> Remember This : </u></h2>
    <p> - those elements what are placed after your script cannot be accessed by the scritp above! <span style="color:yellow;">you can use the <b>defer</b> or <b>defer="true"</b> in the <mark>script</mark> tag but this works <u>ONLY</u> with external files</span></p>
<h2 style="color:green;"><u> Description and Demonstration : </u></h2>
<h2 class="headerExtra"><u> Best Practices </u></h2>
<!---------------------------------------------------------------------------------------------------------------->
<hr>
<h2 style="color:darkblue;"><u><span class="tipCounter">[1]</span> start identifiers with letters and use <b>camelCase</b> (<b>PascalCase</b> is used mostly by "C" programers) </u></h2>
    <p> - use spaces arround operators and after commas </p>
    <p> - do not use the dollar sign <mark>$</mark> to start variable names, that will put you in conflict with JavaScritp library names </p>
<pre>
    var firstName = 4 + 4;
    var myArray = [1, 7, 78];
    var $goldVar = false;                                       // Don't do this!
</pre>
<!---------------------------------------------------------------------------------------------------------------->
<hr>
<h2 style="color:darkblue;"><u><span class="tipCounter">[2]</span> end simple statements with semicolons (this is optional in JS but highly recommended) </u></h2>
    <p> - do NOT end complex statements with semicolons!</p>
<pre>
    var myObject = {Name:"Arpad", Surename:"Pall"};             // simple statement
    
    function myFunc(a) {                                        // complex statement
        return a + 2;
    }
// ----------------
    if (true) console.log("value is true");                     // single line statement ends with semi colon
    
    if (true) {
        console.log("value is true");                           // multi line statement does not end with semi colon
    }
</pre>
<!---------------------------------------------------------------------------------------------------------------->
<hr>
<h2 style="color:darkblue;"><u><span class="tipCounter">[3]</span> use 4 spaces for code identitation <span style="color:yellow";>(do not use tabulator different code edditors interpred differently that)</span></u></h2>
    <p> - use space before the opening bracket </p>
    <p> - put the closing bracket in a new line without a space </p>
<pre>
    function myFunc() {
        return a + 2;
    }
</pre>
<!---------------------------------------------------------------------------------------------------------------->
<hr>
<h2 style="color:darkblue;"><u><span class="tipCounter">[4]</span> if you create an object, place the opening bracket on the same line as the object name </u></h2>
    <p> - do not use commas after the last property (this is allowed from ECMAScripts 5 but JSON does not allow trailing commas!) </p>
    <p> - put the closing bracket in a new line without leading spaces </p>
<pre>
    var myObj = {                                                               // object definition has spaces between property and value
        Name: "Arpad",
        Surename: "Pall",
        Occupation: "programer"                                                 // yes I am :)
    };
    
    var myObj2 = {Name:"Arpad", Surename:"Pall", Occupation:"programer"};       // Short Object has no space between property and value
</pre>
<!---------------------------------------------------------------------------------------------------------------->
<hr>
<h2 style="color:darkblue;"><u><span class="tipCounter">[5]</span> break code at operators  </u></h2>
    <p> - avoid longer lines than 80 characters, <u>break code lines at operators</u> (we also can break strins by using <mark>\</mark>(backslash) but it might have side effects [TESTED]</p>
    
    <pre>
// break at opeartor -----------------------------------------------------------
    "This is a very long string but I break it with a \                         // backslash breaks a string withoug affecting the computation (sort of)
    backslash like this, I'm smart he?" +                                       // -! oparator is the safest way to break code lines 
    "no it's not avoid it :P";
    </pre>
<!---------------------------------------------------------------------------------------------------------------->
<hr>
<h2 style="color:darkblue;"><u><span class="tipCounter">[6]</span> avoid global variables because they can be changed by any local declarations! </u></h2>
    <p> - keep your declarations and initializations on the top of the current scope </p>
    <pre>
    var x = "global variable";                                                  // avoid this especially in long codes
    function myFunc() {
        var x = "local variable";                                               // this cannot be modified form the global scope
        y = "local but global;                                                  // -! careful this is a global variable!!!
    }
    </pre>
<!---------------------------------------------------------------------------------------------------------------->
<hr>
<h2 style="color:darkblue;"><u><span class="tipCounter">[7]</span> never delcare Numbers, Strings or Booleans as Objects, that slows down execution speed and can have side effects (like Objects cannot be compared) </u></h2>
    <pre>
    var = "Bircsy";                                                             // Simple and Clean
    
    var x = new String("Bircsy");                                               // dont do that!
    var y = new String("Bircsy");
    var z = (x === y);                                                          // -> false                 // -! unlike primitive objects cannot be compared 
    </pre>
<!---------------------------------------------------------------------------------------------------------------->
<hr>
<h2 style="color:darkblue;"><u><span class="tipCounter">[8]</span> remember Floating point numbers are NOT accurate </u></h2>
    <pre>
    var x = 0.2;
    var y = 0.1;
    var z = x + y;                                                              // -> 0.30000000000000001
    </pre>
<!---------------------------------------------------------------------------------------------------------------->
<hr>
<h2 style="color:darkblue;"><u><span class="tipCounter">[9]</span> loops run faster if they have to work with pre-stored data </u></h2>
    <pre>
    var arr = [];
    var i;
    
    for (i = 0; i &lt; arr.length; i++) {           // this is a slower code because the loop has to process the "arr.length" each time
        <i> Some Code </i>
    }
    
//----------
    var l = arr.length;
    
    for (i = 0; i &lt; l; i++) {                    // this runs faster because the for loop only has to access to a variable which is pre-stored each time
        <i> Some Code </i>
    } 
    </pre>
<!------------------------------------------------------------------------------------------------------------------------------->    
<hr>
<h2 style="color:darkblue;"><u><span class="tipCounter">[10]</span> defer</u></h2>
    <p> - place your scripts at the bottom of the page for <b>2</b> reasons </p>
    <p> 1) this speeds up your execution speed because HTML elements are loaded first </p>
    <p> 2) elements are placed after your script cannot be accessed by the scritp above! <span style="color:yellow;">you can use the <b>defer</b> or <b>defer="true"</b> in the <mark>script</mark> tag but this works <u>ONLY</u> with external files</span></p>
    <pre>
    &lt;p&gt; id="demo_1" &lt;/p&gt;                                                    // this will work fine
    &lt;script&gt;
        document.getElementById('demo_1').innerHTML = "test";
    &lt;/script&gt;
    
// ----------------------------                                                                        
    &lt;script&gt;                                                                // this does not work because the script is executed before the element
        document.getElementById('demo_2').innerHTML = "test";
    &lt;/script&gt;
    &lt;p&gt; id="demo_2" &lt;/p&gt;
    
// ----------------------------
    &lt;script src="test_1.js&gt;&lt;/script&gt;                                        // this does not work for the same reason (external script file is executed before the element)
    &lt;p&gt; id="demo_3" &lt;/p&gt;
  
// ----------------------------   
    &lt;script src="test_2.js defer&gt;&lt;/script&gt;                                  // this works becaues the "defer" make external file to be executed at the end! 
    &lt;p&gt; id="demo_4" &lt;/p&gt;  
    </pre>  
<details class="example">
    <summary> Example : </summary>
<h4><u> defer TEST </u></h4>
    <p> - the script is declared before the elements (second element has "defer" declared)</p>
<script src="defer-1.js"></script>
<script src="defer-2.js" defer></script>
    <p id="def_demo_1" style="color:red;"><b> GREEN If Passed / RED if not </b></p>
    <p id="def_demo_2" style="color:red;"><b> GREEN If Passed / RED if not </b></p>
        <details>
        <summary> CODE : </summary>
<pre>
&lt;script src="defer-1.js"&gt;&lt;/script&gt;
&lt;script src="defer-2.js" defer&gt;&lt;/script&gt;
    &lt;p id="def_demo_1" style="color:red;"&gt;&lt;b&gt; GREEN If Passed / RED if not &lt;/b&gt;&lt;/p&gt;
    &lt;p id="def_demo_2" style="color:red;"&gt;&lt;b&gt; GREEN If Passed / RED if not &lt;/b&gt;&lt;/p&gt;
</pre>    
        </details>
</details>    
<!---------------------------------------------------------------------------------------------------------------------------------->
<h2 class="headerExtra"><u> Tips and Tricks </u></h2>
<h2 style="color:darkblue;"><u> <span class="tipCounter">[1]</span> bind multiple data at once by using objects </u></h2>    
    <p> - here is an awesome trick to bind data quicky form an object to identifiers </p>
    <pre>
    var myArray = ["one", "two", "three"];
    var [egy, ketto, harom] = myArray;              // extract and bound data quickly to IDs
    egy                                             // -> "one"
    ketto                                           // -> "two"
    harom                                           // -> "three"
    
    // ----------------
    var myObj = {one:1, two:2, three:3};
    var {one, two, three} = myObj;
    one                                             // -> 1
    two                                             // -> 2
    three                                           // -> 3
    </pre>
<!----------------------------------------------------------------------------------------------------------------------------------> 
<hr>    
<h2 style="color:darkblue;"><u> <span class="tipCounter">[2]</span> register/remove event listener by using a function which returns an object to control this behaviour </u></h2>    
<pre>
// this function returns an object with 2 methods, these methods when called they add/remove listener
    var listenerMagic = function() {
        var ctrlObj = {};                                            
        var listenerHandler = function(event) {                         // handler function (could not be controled elsewhere because it is not on the global scope!)
            console.log("handler my event");
        }
        ctrlObj.addListener = function() {                              // "addListener" object method registers listener 
            window.addEventListener("mouseup", listenerHandler);
        }
        ctrlObj.removeListener = () => window.removeEventListener("mouseup", listenerHandler);      // "removeListener" object method removes listener
        return ctrlObj;
    }    
         
    var testListener = listenerMagic();                                 // bound the returned object
        
    testListener.addListener();                                         // registers listener
    testListener.removeListener();                                      // removes listener
    
</pre>
<!---------------------------------------------------------------------------------------------------------------------------------->    
<hr>
<h2 style="color:darkblue;"><u> <span class="tipCounter">[3]</span> Try to use the same object type (when possible) to speed up compiling time </u></h2>        <p> - the V8 compiler compiles faster same type object </p>
    <pre>
    {a:32, b:'myString', c:fasle}
    {a:"yourString", b:undefined, c:null}
    {a:true, b:undefined, c:undefined}                                                 // all 3 object are considered same type for the V8 compiler 
    
    {x:false, y:43n, z:undefined}                                                      // not the same object type for the compiler 
    </pre>
    
    <br><br>
</body>
</html>