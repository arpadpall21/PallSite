<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title> Directories </title> 
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.3.1/css/all.css" integrity="sha384-mzrmE5qonljUremFsqc01SB46JvROS7bZs3IO2EmfFsd15uHvIt+Y8vEf7N7fWAU" crossorigin="anonymous"> 
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="../../../Assets/scriptPages.js"></script>
    <link rel="stylesheet" href="../../../Assets/stylesPages.css">
</head>
<body>
<h1> Directories (ver 3.4.1) </h1>
    <p> Updated ( 2019-10-03 / 2019-10-12 / 2020-06-30 )</p>
    <p class="sitenav"> <a href="../../../index.html">MySite></a>
        <a href="../../index.html">Node.js></a>  
        <a href="../index.html">File System></a> Directories  
    </p>
<table class="table">
<caption> Directories </caption>
    <tr>
        <th style="width:30%;"> Method </th>
        <th> Description </th>
    </tr>
    <tr>
        <td> 
            <strong>fs</strong>.mkdir(<strong>path:str|buf|urlObj</strong>, <i class="openable">option:obj<div>
                <p> recursive: <strong>bol</strong> - overrides existing directories and can create subdirectories (Default: <mark>false</mark>) </p>
                <p> mode: <strong>nr</strong> - directory access mode, <u>not supported on Windows</u> (Default: <mark>0o777</mark>) (ex: <mark>744</mark> LINUX access permissions) </p>
            </div></i>, <strong>fn(err)</strong>) 
        </td>
        <td> asynchronously creates a directory (cannot override existing directories by default) (LINUX <mark>mkdir()</mark>)  
            <span id="browserSupport" title="updated : 2020-06-30">
                <span><i class="fab fa-node-js"></i> 0.1.8 </span>
                <span class="openable"><i class="fab fa-node-js"></i> more... <div>
                    <p> - 7.0.0 - callback required </p>
                    <p> - 7.6.0 - WHATWG <mark>URL</mark> object support </p>
                    <p> - 10.12.0 - <i>option</i> object support </p>
                    <p> - 13.11.0 - in recursive mode (<mark>recursive</mark> option) the callback receives the first created path as argument </p>
                </div></span>
            </span>
        </td>
    </tr>
    <tr>
        <td> 
            <strong>fs</strong>.mkdirSync(<strong>path:str|buf|urlObj</strong>, <i class="openable">option:obj<div>
                <p> recursive: <strong>bol</strong> - overrides existing directories and can create subdirectories (Default: <mark>false</mark>) </p>
                <p> mode: <strong>nr</strong> - directory access mode, <u>not supported on Windows</u> (Default: <mark>0o777</mark>) (ex: <mark>744</mark> LINUX access permissions) </p>
            </div></i>) 
        </td>
        <td> synchronously creates a directory (cannot override existing directories by default) (LINUX <mark>mkdir()</mark>)   
            <span id="browserSupport" title="updated : 2020-06-30">
                <span><i class="fab fa-node-js"></i> 0.1.21 </span>
                <span class="openable"><i class="fab fa-node-js"></i> more... <div>
                    <p> - 7.6.0 - WHATWG <mark>URL</mark> object support </p>
                    <p> - 10.12.0 - <i>option</i> object support </p>
                    <p> - 13.11.0 - in recursive mode (<mark>recursive</mark> option) the callback receives the first created path as argument </p>
                </div></span>
            </span>
        </td>
    </tr>
    <tr>
        <td> 
            <strong>fs</strong>.mkdtemp(<strong>path:str</strong>, <small>{encoding:<strong>str</strong>}</small><i>|encode:str</i>, <strong>fn(err, folder)</strong>) 
        </td>
        <td> asynchronously creates a unique temporary directory by appending 6 random characters to the passed path (the created path is returned in the callback function)
            <span id="browserSupport" title="updated : 2020-06-29">
                <span><i class="fab fa-node-js"></i> 5.10.0 </span>
                <span class="openable"><i class="fab fa-node-js"></i> more... <div>
                    <p> - 6.2.1 - callback is optional </p>
                    <p> - 7.0.0 - callback is NOT optional </p>
                </div></span>
            </span>
        </td>
    </tr>
    <tr>
        <td> <strong>fs</strong>.mkdtempSync(<strong>path:str</strong>, <small>{encoding:<strong>str</strong>}</small><i>|encode:str</i>) </td>
        <td> synchronously creates a unique temporary directory by appending 6 random characters to the passed path and returns the created path
            <span id="browserSupport" title="updated : 2020-06-29">
                <span><i class="fab fa-node-js"></i> 5.10.0 </span>
            </span>
        </td>
    </tr>
    <tr>
        <td> <strong>fs</strong>.opendir(<strong>path:str|buf|urlObj</strong>, <i>encode:str</i>, <strong>fs(err, Dir)</strong>) </td>
        <td> asynchronously opens a <u>directory stream</u>, returns the <mark>Dir</mark> object in the callback function (which represents the directory stream)
            <span id="browserSupport" title="updated : 2019-10-17">
                <span><i class="fab fa-node-js"></i> 12.12.0 </span>
            </span>
        </td>
    </tr>
    <tr>
        <td> <strong>fs</strong>.opendirSync(<strong>path:str|buf|urlObj</strong>, <i>encode:str</i>) </td>
        <td> synchronously opens a directory stream and returns the <mark>Dir</mark> object (which represents the directory stream)
            <span id="browserSupport" title="updated : 2019-10-17">
                <span><i class="fab fa-node-js"></i> 12.12.0 </span>
            </span>
        </td>
    </tr>
    <tr>
        <td> 
            <strong>fs</strong>.readdir(<strong>path:str|buf|urlObj</strong>, <i class="openable">option:obj<div>
                <p> encoding: <strong>str</strong> </p>
                <p> withFileTypes: <strong>bol</strong> - returns items as <mark>fs.Dirent</mark> </p>
            </div></i>, <strong>fn(err, items)</strong>) 
        </td>
        <td> asynchronously returns the directory items (item names) in an Array in the callback function   
            <span id="browserSupport" title="updated : 2019-10-03">
                <span><i class="fab fa-node-js"></i> 0.1.8 </span>
                <span><i class="fab fa-node-js"></i> 7.6.0 WHATWG <mark>URL</mark> ojbect allowed </span>
                <span><i class="fab fa-node-js"></i> 10.0.0 <mark>withFileTypes</mark> option </span>
            </span>
        </td>
    </tr>
    <tr>
        <td> 
            <strong>fs</strong>.readdirSync(<strong>path:str|buf|urlObj</strong>, <i class="openable">option:obj<div>
                <p> encoding: <strong>str</strong> </p>
                <p> withFileTypes: <strong>bol</strong> - returns items as <mark>fs.Dirent</mark> </p>
            </div></i>) 
        </td>
        <td> synchronously returns the directory items (item names) in an Array
            <span id="browserSupport" title="updated : 2019-10-03">
                <span><i class="fab fa-node-js"></i> 0.1.21 </span>
                <span><i class="fab fa-node-js"></i> 7.6.0 WHATWG <mark>URL</mark> ojbect allowed </span>
                <span><i class="fab fa-node-js"></i> 10.0.0 <mark>withFileTypes</mark> option </span>
            </span>
        </td>
    </tr>
    <tr>
        <td> 
            <strong>fs</strong>.rmdir(<strong>path:str|buf|urlObj</strong>, <i class="openable">option:obj<div>
                <p> recursive: <strong>bol</strong> - removes files and subdirectories as well <u style="color:orangered">experimental but works fine on version 12.10.0 [TESTED: 2019-10-03])</u> </p>
                <p> maxRetries: <strong>nr</strong> - if an error encountered durring retrieval this specifies how many times the operation should be retried (Default: <mark>0</mark>) </p>
                <p> retryDelay: <strong>nr:ms</strong> - delays between retries (milliseconds) (Default: <mark>100</mark>)
            </div></i> , <strong>fn(err)</strong>) 
        </td>
        <td> asynchronously removes the targeted directory <u>(cannot remove files, only empty directories can be removed)</u> (LINUX <mark>rmdir()</mark>)
            <span id="browserSupport" title="updated : 2020-06-29">
                <span><i class="fab fa-node-js"></i> 0.0.2 </span>
                <span class="openable"><i class="fab fa-node-js"></i> more... <div>
                    <p> - 7.0.0 - callback is NOT optional </p> 
                    <p> - 7.6.0 - 7.6.0 WHATWG <mark>URL</mark> ojbect support </p>
                    <p> - 12.10.0 - <mark>option</mark> object (recursive) support </p>
                </div></span>
            </span>
        </td>
    </tr>
    <tr>
        <td> 
            <strong>fs</strong>.rmdirSync(<strong>path:str|buffer|URLObj</strong>, <i class="openable">option:obj<div>
                <p> recursive: <strong>bol</strong> - removes files and subdirectories as well <u style="color:orangered">experimental but works fine on version 12.10.0 [TESTED: 2019-10-03])</u> </p>
                <p> maxRetries: <strong>nr</strong> - if an error encountered durring retrieval this specifies how many times the operation should be retried (Default: <mark>0</mark>) </p>
                <p> retryDelay: <strong>nr:ms</strong> - delays between retries (milliseconds) (Default: <mark>100</mark>)
            </div></i>) 
        </td>
        <td> synchronously removes the targeted directory <u>(cannot remove files, only empty directories can be removed)</u> (LINUX <mark>rmdir()</mark>)  
            <span id="browserSupport" title="updated : 2020-06-29">
                <span><i class="fab fa-node-js"></i> 0.1.21 </span>
                <span class="openable"><i class="fab fa-node-js"></i> more... <div>
                    <p> - 7.6.0 - 7.6.0 WHATWG <mark>URL</mark> ojbect support </p>
                    <p> - 12.10.0 - <mark>option</mark> object (recursive) support </p>
                </div></span>
            </span>
        </td>
    </tr>
</table>
    <br>
<table class="table">
<caption> <mark>Dir</mark> object returned by the <mark>opendir()</mark> method </caption>
    <tr>
        <th style="width:30%;"> Method </th>
        <th> Description </th>
    </tr>
    <tr>
        <td> <strong>dir</strong> </td>
        <td> directory handler represents a directory stream, (handle directory's content) (implements the <mark>Symbol.asyncIterator</mark> mechanics, order defined by the underlying OS)
            <span id="browserSupport" title="updated : 2019-10-03">
                <span><i class="fab fa-node-js"></i> 10.12.0 </span>
            </span>
        </td>
    </tr>
    <tr>
        <td> <strong>dir</strong>.close(<i>fn(err)</i>) </td>
        <td> - no callback provided = asynchronously closes the directory stream by using the Promise API (rejected promise = error) <br>
             - callback provided = asynchronously closes the directory stream
            <span id="browserSupport" title="updated : 2019-10-03">
                <span><i class="fab fa-node-js"></i> 10.12.0 </span>
            </span>
        </td>
    </tr>
    <tr>
        <td> <strong>dir</strong>.closeSync() </td>
        <td> synchronously closes the directory stream
            <span id="browserSupport" title="updated : 2019-10-03">
                <span><i class="fab fa-node-js"></i> 10.12.0 </span>
            </span>
        </td>
    </tr>
    <tr>
        <td> <strong>dir</strong>.path </td>
        <td> returns the directory path (argument passed in the <mark>opendir()</mark> method)
            <span id="browserSupport" title="updated : 2019-10-03">
                <span><i class="fab fa-node-js"></i> 10.12.0 </span>
            </span>
        </td>
    </tr>
    <tr>
        <td> <strong>dir</strong>.read(<i>fn(err, Dirent)</i>) </td>
        <td> - no callback provided = asynchronously reads the next directory entry by using the Promise API (resolved promise = next entry <mark>Dirent</mark> object / rejected promise = error) <br>
             - callback provided = asynchronously read the next entry in the directory stream and returns it as <mark>Dirent</mark> object in the callback function
            <span id="browserSupport" title="updated : 2019-10-03">
                <span><i class="fab fa-node-js"></i> 10.12.0 </span>
            </span>
        </td>
    </tr>
    <tr>
        <td> <strong>dir</strong>.readSync() </td>
        <td> synchronously returns the next entry of the directory stream as <mark>Dirent</mark> object
            <span id="browserSupport" title="updated : 2019-10-03">
                <span><i class="fab fa-node-js"></i> 10.12.0 </span>
            </span>
        </td>
    </tr>
</table>    
    <br>
<table class="table">
<caption> <mark>Dirent</mark> object returned by the <mark>readdir()</mark> method </caption>
    <tr>
        <th style="width:30%;"> Method </th>
        <th> Description </th>
    </tr>
    <tr>
        <td> <strong>dirent</strong> </td>
        <td> holds the item type what it describes 
            <span id="browserSupport" title="updated : 2019-10-03">
                <span><i class="fab fa-node-js"></i> 10.10.0 </span>
            </span>
        </td>
    </tr>
    <tr>
        <td> <strong>dirent</strong>.isBlockDevice() </td>
        <td> returns <mark>true</mark> if the dirent object describes a block device, otherwise returns <mark>false</mark> (block device = some kind of POSIX file [NOT TESTED : 2019-10-03])
            <span id="browserSupport" title="updated : 2019-10-03">
                <span><i class="fab fa-node-js"></i> 10.10.0 </span>
            </span>
        </td>
    </tr>
    <tr>
        <td> <strong>dirent</strong>.isCharacterDevice() </td>
        <td> returns <mark>true</mark> if the dirent object describes a character device, otherwise returns <mark>false</mark> (character device = some kind of POSIX file [NOT TESTED : 2019-10-03])
            <span id="browserSupport" title="updated : 2019-10-03">
                <span><i class="fab fa-node-js"></i> 10.10.0 </span>
            </span>
        </td>
    </tr>
    <tr>
        <td> <strong>dirent</strong>.isDirectory() </td>
        <td> returns <mark>true</mark> if the dirent object describes a directory, otherwise returns <mark>false</mark>
            <span id="browserSupport" title="updated : 2019-10-03">
                <span><i class="fab fa-node-js"></i> 10.10.0 </span>
            </span>
        </td>
    </tr>
    <tr>
        <td> <strong>dirent</strong>.isFIFO() </td>
        <td> returns <mark>true</mark> if the dirent object describes a first-in-first-out pipe, otherwise returns <mark>false</mark> (FIFO pipe = some kind of POSIX file [NOT TESTED : 2019-10-03])
            <span id="browserSupport" title="updated : 2019-10-03">
                <span><i class="fab fa-node-js"></i> 10.10.0 </span>
            </span>
        </td>
    </tr>
    <tr>
        <td> <strong>dirent</strong>.isFile() </td>
        <td> returns <mark>true</mark> if the dirent object describes a regular file, otherwise returns <mark>false</mark>
            <span id="browserSupport" title="updated : 2019-10-03">
                <span><i class="fab fa-node-js"></i> 10.10.0 </span>
            </span>
        </td>
    </tr>
    <tr>
        <td> <strong>dirent</strong>.isSocket() </td>
        <td> returns <mark>true</mark> if the dirent object describes a socket, otherwise returns <mark>false</mark>
            <span id="browserSupport" title="updated : 2019-10-03">
                <span><i class="fab fa-node-js"></i> 10.10.0 </span>
            </span>
        </td>
    </tr>
    <tr>
        <td> <strong>dirent</strong>.isSymbolicLink() </td>
        <td> returns <mark>true</mark> if the dirent object describes a symbolic-link, otherwise returns <mark>false</mark>
            <span id="browserSupport" title="updated : 2019-10-03">
                <span><i class="fab fa-node-js"></i> 10.10.0 </span>
            </span>
        </td>
    </tr>
    <tr>
        <td> <strong>dirent</strong>.name </td>
        <td> returns the name of the file the dirent object is refering to
            <span id="browserSupport" title="updated : 2019-10-03">
                <span><i class="fab fa-node-js"></i> 10.10.0 </span>
            </span>
        </td>
    </tr>
</table>    
<h2 style="color:green;"><u> Notes : </u></h2>
    <details class="example" id="notes">
    <summary> Notes :</summary>
    </details>
<h2 style="color:green;"><u> Useful Links : </u></h2>

<h2 style="color:green;"><u> Remember This : </u></h2>
    
<h2 style="color:green;"><u> Description and Demonstration : </u></h2>

<h2 style="color:darkblue;"><u> The <mark>opendir()</mark> / <mark>opendirSync()</mark> methods and the <mark>Dir</mark> object </u></h2>
    <pre class="syntax">
SYNTAX :    <strong>fs</strong>.opendir(<strong>path:str|buf|urlObj</strong>, <i>encode:str</i>, <strong>fs(err, Dir)</strong>)                  // asynchronously opens a <u>directory stream</u>, returns the <mark>Dir</mark> object in the callback function (which represents the directory stream)   
            <strong>fs</strong>.opendirSync(<strong>path:str|buf|urlObj</strong>, <i>encoding:str</i>)                          // synchronously opens a directory stream and returns the <mark>Dir</mark> object (which represents the directory stream)    
    
<span style="color:darkgray;">// <mark>Dir</mark> ojbect returned by the <mark>opendir()</mark> method ----------------------------------------</span>
            <strong>dir</strong>                                                                        // directory handler represents a directory stream, (handle directory's content) (implements the <mark>Symbol.asyncIterator</mark> mechanics, order defined by the underlying OS)    
            <strong>dir</strong>.path                                                                   // returns the directory path (argument passed in the <mark>opendir()</mark> method)    
            
            <strong>dir</strong>.readSync()                                                             // synchronously returns the next entry of the directory stream as <mark>Dirent</mark> object   
            <strong>dir</strong>.read(<i>fn(err, Dirent)</i>)                                                  // no callback provided = asynchronously reads the next directory entry by using the Promise API (resolved promise = next entry <mark>Dirent</mark> object / rejected promise = error)   
                                                                                          callback provided = asynchronously read the next entry in the directory stream and returns it as <mark>Dirent</mark> object in the callback function   
            
            <strong>dir</strong>.closeSync()                                                            // synchronously closes the directory stream  
            <strong>dir</strong>.close(<i>fn(err)</i>)                                                         // no callback provided = asynchronously closes the directory stream by using the Promise API (rejected promise = error)    
                                                                                          callback provided = asynchronously closes the directory stream 
    </pre>
<details class="example">
<summary> DEMO </summary>
    <pre>
    const fs = require('fs');
    
// opendir() / opendirSync() ----------------------------------------------------------
    fs.opendir('./', function(err, dir){                                               // asynchronously opens a directory stream of the current directory    
        if(err) console.log(err);
        dir;                                                                           // -> Dir {...}              // directory stream object returned here 
    });
    
    var dirObj = fs.opendirSync('./');                                                 // synchronously opens a directory stream of the current directory and returns the Dir object (represents the directory stream)    
    
// asynchronously iterable Dir object -------------------------------------------------
    (async function(){                                                                 // asynchronous operation 
        for await (let i of dirObj){                                                   // the Dir object can be asynchronously iterated over  
            i;                                                                         // -> Dirent {...}           // returns the dirent object for each directory entry   
        }
    })().catch((rej) => {console.log(rej)});                                           // handling rejected promise (if rejected) (error handling)
    
// path -------------------------------------------------------------------------------
    dirObj.path;                                                                       // -> './'                   // directory stream path (1st argument what opened this directory stream)   
    
// read() / readSync() ----------------------------------------------------------------
    dirObj.readSync();                                                                 // -> Dirent {name:'testFile1', ...}   // synchronously reads the next directory item and returns it as Dirent object    
    
    dirObj.read(function(err, dirent){                                                 // asynchronously reads the next directory entry    
        if(err) console.log(err);
        console.log(dirent);                                                           // -> Dirent {name:'testfile2', ...}   // item returned as Dirent object     
    });
    
    dirObj.read()                                                                      // asynchronously reads the next directory entry by using the Promise API (no callback provided)    
        .then((res) => {console.log(res)})                                             // -> Dirent {name:'testFile3', ...}   // if resolved promise -> returns the a Dirent object of the current item 
        .catch((rej) => {console.log(rej)});                                           // -> Error                            // if rejected promise -> operation failed error is returned   
    
// close() / closeSync() -------------------------------------------------------------- 
    dirObj.closeSync();                                                                // synchronously closes the directory stream   
    
    dirObj.close(function(err){                                                        // asynchronously closes the directory stream   
        if(err) console.log(err);
    });    
    
    dirObj.close()                                                                     // asynchronously closes the directory stream by using the Promise API  
        .catch((rej) => {console.log(rej)});
    </pre>
</details>
<details class="example">
<summary> Example : </summary>
<h4 style="color:darkblue;"><u> <mark>opendir()</mark> / <mark>opendirSync()</mark> and <mark>Dir</mark> object </u></h4>
    <p> - I had to embeded the Promise in the asynchronous callback to avoid race conditions! </p>
    <pre style="margin-bottom:1px;">
    const fs = require("fs");
    
    var dirStream = fs.opendirSync(process.cwd() + '/testDir1');
    
// path -------------------------------------------------------------------------------
    console.log( dirStream.path );                                                     // path of the directory stream (argument passed in the 'opendirSync' method)   
    
// read() / readSync() ----------------------------------------------------------------
    console.log( dirStream.readSync() );                                               // synchronously returns the first item in the directory stream as Dirent object  
    
    dirStream.read(function(err, dirent){                                              // asynchronously returns the next item in the directory stream 
        if(err) console.log(err);
        console.log(dirent);                                                           // next item returned as Diren object here 
            dirStream.read()                                                           // returns a promise (resolved promise contains the next directory entry as Dirent object)   
                .then((res) => { 
                    console.log(res);
                    dirStream.close((err) => { if(err) {console.log(err);}});          // asynchronously closes the directory stream 
                })
                .catch((rej) => { console.log(rej) });  
    });
    
// close() / closeSync() -------------------------------------------------------------
    var dirStream2 = fs.opendirSync(process.cwd());
    var dirStream3 = fs.opendirSync(process.cwd());
    var dirStream4 = fs.opendirSync(process.cwd());
    
    dirStream2.close(function(err){ if(err) console.log(err) });                       // asynchronously closes the directory stream 
    
    dirStream3.close()                                                                 // asynchronously closes the directory stream by using the Promise API   
        .catch((rej) => { console.log(rej) });    
        
    dirStream4.closeSync();                                                            // synchronously closes the directory stream    
    
console.log( "----- end of module -----");    
    </pre>
    <pre class="cmd" style="margin-top:1px;">
    PS D:\safe\code +\my site\03 improuve\learn webdesign\04 Node.js\file system\04 directories\04 opendir() opendirSync() and Dir TEST> node main  
// dirStream.paht --------------------------------------------------------------------   
        D:\safe\code +\my site\03 improuve\learn webdesign\04 Node.js\file system\04 directories\04 opendir() opendirSync() and Dir TEST/testDir1
        Dirent { name: 'testFile1.txt', [Symbol(type)]: 1 }                            // dirStream.readSync()                          // first entry as Dirent object   
        ----- end of module -----
        Dirent { name: 'testFile2.txt', [Symbol(type)]: 1 }                            // dirStream.read(function(err, dirent) {}       // asynchronous callback 
        Dirent { name: 'testFile3.txt', [Symbol(type)]: 1 }                            // dirStream.read()                              // Promise based API
    PS D:\safe\code +\my site\03 improuve\learn webdesign\04 Node.js\file system\04 directories\04 opendir() opendirSync() and Dir TEST>     
    </pre>
<!----------------------------------------------------------------------------------------------------------------->
<hr>
<h4 style="color:darkblue;"><u> <mark>for await...of</mark> on <mark>Dir</mark> ojbect TEST </u></h4>
    <pre style="margin-bottom:1px;">
    const fs = require("fs");
    
    var parentDir = fs.opendirSync('../');                                             // reading the parent directory 
    
    (async function(){                                                                 // asynchronous operation 
        for await (let i of parentDir){                                                // for await...of loop iterates over asynchronously itereable object (Ojbects having the [Symbol.asyncIterator] implemented)
            console.log(i);                                                            // -> Dirent object returned for each entry  
        }
    })().catch((rej) => {console.log(rej)});                                           // handling error in case the async function returns a rejected Promise 
    
    console.log('--- end of module ---');
    </pre>
    <pre class="cmd" style="margin-top:1px;">
    PS D:\safe\code +\my site\03 improuve\learn webdesign\04 node.js\file system\04 directories\05 for await...of on Dir object TEST> node main    
        --- end of module ---
        Dirent { name: '01 readdir() readdirSync() Dirent TEST', [Symbol(type)]: 2 }
        Dirent { name: '02 mkdir() mkdirSync() mkdtemp() mkdtempSync() TEST', [Symbol(type)]: 2 }
        Dirent { name: '03 rmdir() rmdirSync() TEST', [Symbol(type)]: 2 }
        Dirent { name: '04 opendir() opendirSync() and Dir TEST', [Symbol(type)]: 2 }
        Dirent { name: '05 for await...of on Dir object TEST', [Symbol(type)]: 2 }
        Dirent { name: 'index.html', [Symbol(type)]: 1 }
        Dirent { name: 'styles.css', [Symbol(type)]: 1 }
        Dirent { name: 'TEST', [Symbol(type)]: 2 }
    PS D:\safe\code +\my site\03 improuve\learn webdesign\04 node.js\file system\04 directories\05 for await...of on Dir object TEST>    
    </pre>
</details>
<!----------------------------------------------------------------------------------------------------------------->
<hr>
<h2 style="color:darkblue;"><u> The <mark>readdir()</mark> / <mark>readdirSync()</mark> methods and the <mark>Dirent</mark> object </u></h2>
    <pre class="syntax">
SYNTAX :    <strong>fs</strong>.readdir(<strong>path:str|buf|urlObj</strong>, <i class="openable">option:obj<div>
                <p> encoding: <strong>str</strong> </p>
                <p> withFileTypes: <strong>bol</strong> - returns items as <mark>fs.Dirent</mark> </p>
            </div></i>, <strong>fn(err, items)</strong>)               // asynchronously returns the directory items (item names) in an Array in the callback function    
            <strong>fs</strong>.readdirSync(<strong>path:str|buf|urlObj</strong>, <i class="openable">option:obj<div>
                <p> encoding: <strong>str</strong> </p>
                <p> withFileTypes: <strong>bol</strong> - returns items as <mark>fs.Dirent</mark> </p>
            </div></i>)                           // synchronously returns the directory items (item names) in an Array    
    
<span style="color:darkgray;">// <mark>Dirent</mark> ojbect returned by the <mark>readdir()</mark> method -------------------------------------</span>
            <strong>dirent</strong>                                                                     // object holds the item type what it describes   
            <strong>dirent</strong>.name                                                                // returns the name of the file the dirent object is refering to    
        
            <strong>dirent</strong>.isFile()                                                            // returns <mark>true</mark> if the dirent object describes a regular file, otherwise returns <mark>false</mark> 
            <strong>dirent</strong>.isDirectory()                                                       // returns <mark>true</mark> if the dirent object describes a directory, otherwise returns <mark>false</mark>    
        
            <strong>dirent</strong>.isSymbolicLink()                                                    // returns <mark>true</mark> if the dirent object describes a symbolic-link, otherwise returns <mark>false</mark> 
            <strong>dirent</strong>.isSocket()                                                          // returns <mark>true</mark> if the dirent object describes a socket, otherwise returns <mark>false</mark> 
        
            <strong>dirent</strong>.isBlockDevice()                                                     // returns <mark>true</mark> if the dirent object describes a block device, otherwise returns <mark>false</mark> (block device = some kind of POSIX file [NOT TESTED : 2019-10-03])   
            <strong>dirent</strong>.isCharacterDevice()                                                 // returns <mark>true</mark> if the dirent object describes a character device, otherwise returns <mark>false</mark> (character device = some kind of POSIX file [NOT TESTED : 2019-10-03])    
            <strong>dirent</strong>.isFIFO()                                                            // returns <mark>true</mark> if the dirent object describes a first-in-first-out pipe, otherwise returns <mark>false</mark> (FIFO pipe = some kind of POSIX file [NOT TESTED : 2019-10-03])    
    </pre>
<details class="example">
<summary> DEMO </summary>
    <pre>
    const fs = require('fs');
    
// readdir() / readdirSync() ----------------------------------------------------------
    fs.readdir('./', function(err, items){                                             // asynchronously reading the current directory 
        if(err) console.log(err);                                                          // handling errors 
        items;                                                                         // -> ['testFile', 'testDirectory']                                       // directory items (item names) are returned in an Array   
    });
    
    var items = fs.readdirSync('./', {withFileTypes:true});                            // -> [Dirent{name:'testFile', ...}, Dirent{name:'testDirectory', ...}]   // Dirent object is returned for each items (withFileTypes option set to true)    
                                                                                       // synchronously reads the current directory 
// Dirent object ----------------------------------------------------------------------
    items[0].name;                                                                     // -> 'testFile'     // item name returned 
    items[0].isFile();                                                                 // -> true           // item is a file 
    items[0].isDirectory();                                                            // -> false          // item is not a directory 
    items[0].isSymbolicLink();                                                         // -> false          // item is not a symbolic-link
    items[0].isSocket();                                                               // -> false          // item is not a socket 
    items[0].isBlockDevice();                                                          // -> false          // item is not a block device 
    items[0].isCharacterDevice();                                                      // -> false          // item is not a character device 
    items[0].isFIFO();                                                                 // -> false          // item is not a first-in-first-out pipe   
    </pre>
</details>
<details class="example">
<summary> Example : </summary>
<h4 style="color:darkblue;"><u> <mark>readdir()</mark> / <mark>readdirSync()</mark> / <mark>Dirent</mark> TEST </u></h4>
    <pre style="margin-bottom:1px;">
    const fs = require('fs');
    
// we read the 'File System' direcory here --------------------------------------------
    fs.readdir('../../', function(err, items){
        if(err) console.log(err);
        console.log( items );                                                          // directory items (item names) are returned in an Array 
    });
    
    var items = fs.readdirSync('../../', {withFileTypes:true});                        // Dirent object returned for each directory item  
    
    console.log( items );
    
    console.log( items[0].name );
    console.log( items[0].isFile() );
    console.log( items[0].isDirectory() );
    console.log( items[0].isSymbolicLink() );
    console.log( items[0].isSocket() );
    console.log( items[0].isBlockDevice() );
    console.log( items[0].isCharacterDevice() );
    console.log( items[0].isFIFO() );
    
console.log( "----- end of module -----" );
    </pre>
    <pre class="cmd" style="margin-top:1px;">
    PS D:\safe\code +\My Site\03 improuve\learn webdesign\04 node.js\file system\04 directories\01 readdir() readdirSync() Dirent TEST> node main        
        [                                                                              // -! items  
        Dirent { name: '01 File Descriptors', [Symbol(type)]: 2 },
        Dirent { name: '02 Read and Write files', [Symbol(type)]: 2 },
        Dirent { name: '03 Watching Files', [Symbol(type)]: 2 },
        Dirent { name: '04 Directories', [Symbol(type)]: 2 },
        Dirent { name: 'index.html', [Symbol(type)]: 1 },
        Dirent { name: 'TEST', [Symbol(type)]: 2 }
        ]
        01 File Descriptors                                                            // -! items[0].name;
        false                                                                          // -! items[0].isFile();
        true                                                                           // -! items[0].isDirectory();
        false                                                                          // -! items[0].isSymbolicLink();
        false                                                                          // -! items[0].isSocket();
        false                                                                          // -! items[0].isBlockDevice();
        false                                                                          // -! items[0].isCharacterDevice();
        false                                                                          // -! items[0].isFIFO();
        ----- end of module -----
        [                                                                              // -! item (asynchronous)
        '01 File Descriptors',
        '02 Read and Write files',
        '03 Watching Files',
        '04 Directories',
        'index.html',
        'TEST'
        ]
    PS D:\safe\code +\My Site\03 improuve\learn webdesign\04 node.js\file system\04 directories\01 readdir() readdirSync() Dirent TEST>     
    </pre>
</details>
<!----------------------------------------------------------------------------------------------------------------->
<hr>
<h2 style="color:darkblue;"><u> The <mark>mkdir()</mark> / <mark>mkdirSync()</mark> / <mark>mkdtemp()</mark> / <mark>mkdtempSync()</mark> / <mark>rmdir()</mark> / <mark>rmdirSync()</mark> methods </u></h2>
    <pre class="syntax">
SYNTAX :    <strong>fs</strong>.mkdir(<strong>path:str|buf|urlObj</strong>, <i class="openable">option:obj<div>
                <p> recursive: <strong>bol</strong> - overrides existing directories and can create subdirectories (Default: <mark>false</mark>) </p>
                <p> mode: <strong>nr</strong> - directory access mode, <u>not supported on Windows</u> (Default: <mark>0o777</mark>) (ex: <mark>744</mark> LINUX access permissions) </p>
            </div></i>, <strong>fn(err)</strong>)                        // asynchronously creates a directory (cannot override existing directories by default) (LINUX <mark>mkdir()</mark>)    
            <strong>fs</strong>.mkdirSync(<strong>path:str|buf|urlObj</strong>, <i class="openable">option:obj<div>
                <p> recursive: <strong>bol</strong> - overrides existing directories and can create subdirectories (Default: <mark>false</mark>) </p>
                <p> mode: <strong>nr</strong> - directory access mode, <u>not supported on Windows</u> (Default: <mark>0o777</mark>) (ex: <mark>744</mark> LINUX access permissions) </p>
            </div></i>)                             // synchronously creates a directory (cannot override existing directories by default) (LINUX <mark>mkdir()</mark>)    
            
            <strong>fs</strong>.mkdtemp(<strong>path:str</strong>, <small>{encoding:<strong>str</strong>}</small><i>|encode:str</i>, <strong>fn(err, folder)</strong>)           // asynchronously creates a unique temporary directory by appending 6 random characters to the passed path (the created path is returned in the callback function)    
            <strong>fs</strong>.mkdtempSync(<strong>path:str</strong>, <small>{encoding:<strong>str</strong>}</small><i>|encode:str</i>)                        // synchronously creates a unique temporary directory by appending 6 random characters to the passed path and returns the created path   
            
            <strong>fs</strong>.rmdir(<strong>path:str|buf|urlObj</strong>, <i class="openable">option:obj<div>
                <p> recursive: <strong>bol</strong> - removes files and subdirectories as well <u style="color:orangered">experimental but works fine on version 12.10.0 [TESTED: 2019-10-03])</u> </p>
                <p> maxRetries: <strong>nr</strong> - if an error encountered durring retrieval this specifies how many times the operation should be retried (Default: <mark>0</mark>) </p>
                <p> retryDelay: <strong>nr:ms</strong> - delays between retries (milliseconds) (Default: <mark>100</mark>)
            </div></i> , <strong>fn(err)</strong>)                       // asynchronously removes the targeted directory <u>(cannot remove files, only empty directories can be removed)</u> (LINUX <mark>rmdir()</mark>)    
            <strong>fs</strong>.rmdirSync(<strong>path:str|buffer|URLObj</strong>, <i class="openable">option:obj<div>
                <p> recursive: <strong>bol</strong> - removes files and subdirectories as well <u style="color:orangered">experimental but works fine on version 12.10.0 [TESTED: 2019-10-03])</u> </p>
                <p> maxRetries: <strong>nr</strong> - if an error encountered durring retrieval this specifies how many times the operation should be retried (Default: <mark>0</mark>) </p>
                <p> retryDelay: <strong>nr:ms</strong> - delays between retries (milliseconds) (Default: <mark>100</mark>)
            </div></i>)                          // synchronously removes the targeted directory <u>(cannot remove files, only empty directories can be removed)</u> (LINUX <mark>rmdir()</mark>)    
    </pre>
<details class="example">
<summary> DEMO </summary>
    <pre>
    cosnt fs = require('fs');
    
// mkdir() / mkdirSync() --------------------------------------------------------------
    fs.mkdir('testDir1', function(err){                                                // asynchronously creates a directory in the current location (cannot override existing directories)    
        if(err) console.log(err);                                                          // handling potential errors   
    });
    
    fs.mkdirSync('testDir2/subDir/anotherSubDir', {recursive:true});                   // synchronously creates a directory with subdirectories (CAN override existing directories) (recursive option)    
    
// mkdtemp() / mkdtempSync() ----------------------------------------------------------
    fs.mkdtemp('temp', function(err, dir){                                             // asynchronously creates the 'tempE7HPyz' directory on the current location (appends 6 random characters on the passed path)    
        if(err) console.log(err);
        dir;                                                                           // -> 'tempE7HPyz'           // created directory name retuned (1st argument with the 6 random appended characters)    
    });
    
    fs.mkdtempSync('temp');                                                            // -> 'tempduimQQ'           // passed path returned with the 6 random appended characters   
                                                                                       // synchronously creates the 'tempduimQQ' directory on the current locatin (appends 6 random characters on the passed path)
// rmdir() / rmdirSync() --------------------------------------------------------------
    fs.rmdir('testDir1', function(err){                                                // asynchronously removes the passed directory       // -! cannot remove NOT empty directories   // -! cannot remove files   
        if(err) console.log(err);
    });
    
    fs.rmdirSync('testDir2', {recursive:true});                                        // synchronously removes the passed directory        // -! can remove subdirectories and files       // -! can remove files 
                                                                                       // !! the option object (2nd argument) is experimental but works fine in version 12.10.0 [TESTED: 2019-10-03]   
    </pre>
</details>
<details class="example">
<summary> Example : </summary>
<h4 style="color:darkblue;"><u> <mark>mkdir()</mark> / <mark>mkdirSync()</mark> / <mark>mkdtemp()</mark> / <mark>mkdtempSync()</mark> TEST </u></h4>
    <pre style="margin-bottom:1px;">
    const fs = require('fs');
    
// mkdir() / mkdirSync() --------------------------------------------------------------
    fs.mkdir('newDir1', function(err){
        if(err) console.log(err);
    });
    
    fs.mkdirSync('newDir2/subDir/another_subDir', {recursive:true})                    // recursive option allows to create subdirectories (also can override existing directories)    
    
// mkdtemp() / mkdtempSync() ----------------------------------------------------------
    fs.mkdtemp('tempFolder', function(err, folder){
        if(err) console.log(err);
        console.log( "asynchronously created temporary directory = " + folder );
    });
    
    console.log( "synchronously created temporary directory = " + fs.mkdtempSync('tempFolder') );    
    </pre>
    <pre class="cmd" style="margin-top:1px;">
    PS D:\safe\code +\My Site\03 improuve\learn webdesign\04 node.js\file system\04 directories\02 mkdir() mkdirSync() mkdtemp() mkdtempSync() TEST> node main      
        synchronously created temporary directory = tempFolderJoEUIN
        asynchronously created temporary directory = tempFolderiVb1Ak
    PS D:\safe\code +\My Site\03 improuve\learn webdesign\04 node.js\file system\04 directories\02 mkdir() mkdirSync() mkdtemp() mkdtempSync() TEST>    
    </pre>
<!----------------------------------------------------------------------------------------------------------------->
<hr>
<h4 style="color:darkblue;"><u> <mark>rmdir()</mark> / <mark>rmdirSync()</mark> TEST </u></h4>
    <pre style="margin-bottom:1px;">
    const fs = require('fs');

    fs.mkdirSync('testDir1/subDir/subSubDir', {recursive:true});
    fs.mkdirSync('testDir2/subDir/subSubDir', {recursive:true});
    
// rmdir() / rmdirSync() -------------------------------------------------------------
    fs.rmdir('testDir1', {recursive:true, }, function(err){                           // recursive remove works just file (subdirectories are )
        if(err) console.log(err);
    });
    
    fs.rmdirSync('testDir2', {recursive:true});
    </pre>
    <pre class="cmd" style="margin-top:1px;">
    PS D:\safe\code +\My Site\03 improuve\learn webdesign\04 node.js\file system\04 directories\03 rmdir() rmdirSync() TEST> node main       
    PS D:\safe\code +\My Site\03 improuve\learn webdesign\04 node.js\file system\04 directories\03 rmdir() rmdirSync() TEST>    
    </pre>
</details>
    
</body>
</html>