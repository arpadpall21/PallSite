<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title> Front-End Modules </title> 
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.3.1/css/all.css" integrity="sha384-mzrmE5qonljUremFsqc01SB46JvROS7bZs3IO2EmfFsd15uHvIt+Y8vEf7N7fWAU" crossorigin="anonymous"> 
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <link rel="stylesheet" href="../../Assets/stylesPages.css"> 
    <script src="../../Assets/scriptPages.js"></script>
</head>
<body>
<h1> Front-End Modules (ver 4.0.0) </h1>
    <p> Updated ( 2021-02-03 / 2021-09-07 )</p>
    <p class="sitenav"> <a href="../../index.html">MySite></a>
        <a href="../index.html"> Web Browser APIs> </a> Front-End Modules
    </p>    
<table class="table">
<caption> Front-End Modules 
            <span class="browserSupport" title="updated : 2021-01-03">
                <span><i class="fab fa-chrome"></i> 61 </span>
                <span><i class="fab fa-firefox"></i> 60 </span>
                <span><i class="fab fa-opera"></i> 48 </span>
                <span><i class="fab fa-internet-explorer"></i><i class="fab fa-edge"></i> 16 </span>
                <span><i class="fab fa-safari"></i> 10.1 </span>
            </span>
    <span class="changeListOrder">[Ordered: <span>Alphabetically</span>]</span>
</caption>
    <tr>
        <th style="width:30%;"> Tag </th>
        <th> Description </th>
    </tr>
    <tr class="1.1">
        <td> &lt;script src="<strong>scriptURL</strong>" type="module"&gt;&lt;/script&gt; </td>
        <td>  
            - the requested script is treated as top-level ECMAScript module by the browser
        </td>
    </tr>
    <tr class="1.2">
        <td> 
            &lt;script type="module"&gt;  
                <span style="color:darkgray;">// JS code here ...</span>
                
            &lt;/script&gt;        
        </td>
        <td> 
            - this embeded script is treated as top-level ECMAScript module by the browser
        </td>
    </tr>
</table>
    <br>
<table class="table">
<caption> 
    ECMAScript module statement and properties
    <span class="changeListOrder">[Ordered: <span>Alphabetically</span>]</span>
</caption>
    <tr>
        <th style="width:30%;"> Statement / Property  </th>
        <th> Description </th>
    </tr>
    <tr class="03">
        <td> import.meta.url </td>
        <td> - returns the absolute path of the current location <u>as a file path</u> (ex: <mark>file:///home/dev/main.mjs</mark>) (like in the browser, percent encoded)
            <span id="browserSupport" title="updated: 2021-02-03">
                <span><i class="fab fa-chrome"></i> 64 </span>
                <span><i class="fab fa-firefox"></i> 62 </span>
                <span><i class="fab fa-opera"></i> 51 </span>
                <span><i class="fab fa-internet-explorer"></i><i class="fab fa-edge"></i> 79 </span>
                <span><i class="fab fa-safari"></i> 11.1 </span>
                <span><i class="fab fa-node-js"></i> 15.3.0 </span>
            </span>
        </td>
    </tr>
    <tr class="01.01">
        <td> import <strong>importSyntax</strong> </td>
        <td> 
            - named items (<strong>name</strong>) must be imported as they were exported by the exporting module (under the same name) <br>
            - the default import name (<strong>defaultName</strong>) is not named (we can name it as we like) <br>
            - this statement cannot be used in embeded script (like in a function)   
            <span id="browserSupport" title="updated: 2021-02-03">
                <span><i class="fab fa-chrome"></i> 61 </span>
                <span><i class="fab fa-firefox"></i> 60 </span>
                <span><i class="fab fa-opera"></i> 48 </span>
                <span><i class="fab fa-internet-explorer"></i><i class="fab fa-edge"></i> 16 </span>
                <span><i class="fab fa-safari"></i> 10.1 </span>
                <span><i class="fab fa-node-js"></i> 15.3.0 </span>
                <span class="openable"> more... <div>
                    <p> - dynamic import (<mark>import()</mark>) </p>
                    <span><i class="fab fa-chrome"></i> 63 </span>
                    <span><i class="fab fa-firefox"></i> 67 </span>
                    <span><i class="fab fa-opera"></i> 50 </span>
                    <span><i class="fab fa-internet-explorer"></i><i class="fab fa-edge"></i> 79 </span>
                    <span><i class="fab fa-safari"></i> 11.1 </span>
                    <hr>
                    <p> - available in workers </p>
                    <span><i class="fab fa-chrome"></i> 80 </span>
                    <span><i class="fab fa-firefox"></i> NO </span>
                    <span><i class="fab fa-opera"></i> NO </span>
                    <span><i class="fab fa-internet-explorer"></i><i class="fab fa-edge"></i> 80 </span>
                    <span><i class="fab fa-safari"></i> NO </span>
                </div></span>
            </span>
        </td>
    </tr>
    <tr class="01.02">
        <td></td><td></td>
    </tr>
    <tr class="01.03">
        <td>  
            import <strong class="openable">specifier:str<div>
                <p><b><u>Relative Specifier</u></b></p>
                <p> - <mark>./main.js</mark> - relative path from the current location <u>(file extensions are required)</u>
                <p><b><u>Absolute Specifier</u></b></p>
                <p> - <mark>http://localhost:1000/users/user_x/main.js</mark> | <mark>/users/user_x/main.js</mark> - absolute URL (protocol and host are optional) (browser percent encoded)</u> </p>
            </div></strong> 
        </td>
        <td> 
            - no data is imported (module is called for its side effect only)
        </td>
    </tr>
    <tr class="01.04">
        <td></td><td></td>
    </tr>
    <tr class="01.05">
        <td>  
            import * as <strong>name</strong> from <strong class="openable">specifier:str<div>
                <p><b><u>Relative Specifier</u></b></p>
                <p> - <mark>./main.js</mark> - relative path from the current location <u>(file extensions are required)</u>
                <p><b><u>Absolute Specifier</u></b></p>
                <p> - <mark>http://localhost:1000/users/user_x/main.js</mark> | <mark>/users/user_x/main.js</mark> - absolute URL (protocol and host are optional) (browser percent encoded)</u> </p>
            </div></strong>
        </td>
        <td> 
            - imports all named items and default from the specified module in the specified namespace (<strong>name</strong>)
        </td>
    </tr>
    <tr class="01.06">
        <td></td><td></td>
    </tr>
    <tr class="01.07">
        <td>  
            import {<strong>name</strong> <small>[as <i>newName</i>]</small>, <i>...</i>} from <strong class="openable">specifier:str<div>
                <p><b><u>Relative Specifier</u></b></p>
                <p> - <mark>./main.js</mark> - relative path from the current location <u>(file extensions are required)</u>
                <p><b><u>Absolute Specifier</u></b></p>
                <p> - <mark>http://localhost:1000/users/user_x/main.js</mark> | <mark>/users/user_x/main.js</mark> - absolute URL (protocol and host are optional) (browser percent encoded)</u> </p>
            </div></strong>
        </td>
        <td> 
            - imports the specified <strong>name</strong>(s) from the specified module (names can be renamed with the <mark>as</mark> keyword)
        </td>
    </tr>
    <tr class="01.08">
        <td></td><td></td>
    </tr>
    <tr class="01.09">
        <td>  
            import <strong>defaultName</strong><small>[, {<i>name, ...</i>}]</small> from <strong class="openable">specifier:str<div>
                <p><b><u>Relative Specifier</u></b></p>
                <p> - <mark>./main.js</mark> - relative path from the current location <u>(file extensions are required)</u>
                <p><b><u>Absolute Specifier</u></b></p>
                <p> - <mark>http://localhost:1000/users/user_x/main.js</mark> | <mark>/users/user_x/main.js</mark> - absolute URL (protocol and host are optional) (browser percent encoded)</u> </p>
            </div></strong>
        </td>
        <td> 
            - imports the default value from the specified module (we can name the <strong>defaultName</strong> as we like)
        </td>
    </tr> 
    <tr class="01.10">
        <td></td><td></td>
    </tr>
    <tr class="01.11">
        <td> 
            import(<strong class="openable">specifier:str<div>
                <p><b><u>Relative Specifier</u></b></p>
                <p> - <mark>./main.js</mark> - relative path from the current location <u>(file extensions are required)</u>
                <p><b><u>Absolute Specifier</u></b></p>
                <p> - <mark>http://localhost:1000/users/user_x/main.js</mark> | <mark>/users/user_x/main.js</mark> - absolute URL (protocol and host are optional) (browser percent encoded)</u> </p>
            </div></strong>)
        </td>
        <td> 
            - returns a Promise which resolves to the required module <br>
            - the specified module starts loading once the current module is fully loaded (does not block the current module) <br>
            - this syntax can be called from a function body ('dynamically') <br>
            - does not load the specified module asynchronously!
        </td>
    </tr>
        <tr class="01.12"><td></td><td></td></tr>
    <tr class="01.13">
        <td> 
            await import(<strong class="openable">specifier:str<div>
                <p><b><u>Relative Specifier</u></b></p>
                <p> - <mark>./main.js</mark> - relative path from the current location <u>(file extensions are required)</u>
                <p><b><u>Absolute Specifier</u></b></p>
                <p> - <mark>/home/dev/main.js</mark> - absolute path <u>in ECMAscript modules we can also pass file protocol path <mark>"file:///home/dev/main.js</mark> (browser percent encoded)</u> </p>
                <p><b><u>Bare Specifier</u></b></p>
                <p> - <mark>main</mark> | <mark>mymodule/main</mark> - (no prefixed path given) - refers as package entry point to the nearest <mark>node_modules</mark> directory <u>(file extensions are required in some cases)</u> </p>
            </div></strong>)
        </td>
        <td> 
            - <u>statically requires</u> the <strong>specifier</strong> module (does the same as <mark>import * as <strong>name</strong> from <strong>specifier</strong></mark>) <br>
            - returns a <mark>{default:<i>defVal, ...</i>}</strong></mark> object which holds the data exported by <strong>specifier</strong> module    <br>
            <span class="browserSupport" title="updated : 2021-05-28">
                <span><i class="fab fa-chrome"></i> 89 </span>
                <span><i class="fab fa-firefox"></i> 89 </span>
                <span><i class="fab fa-opera"></i> NO </span>
                <span><i class="fab fa-internet-explorer"></i><i class="fab fa-edge"></i> NO </span>
                <span><i class="fab fa-safari"></i> NO </span>
                <span><i class="fab fa-node-js"></i> 14.8.0 </span>
            </span>
        </td>
    </tr>
    <tr class="02.01">
        <td> export <strong>exportSyntax</strong> </td>
        <td> 
            - we can export 0 or more named items and 1 default item (named item = a value bound to a name) <br>
            - named items (<strong>name</strong>) must be imported as they were exported by the exporting module (same name) <br>
            - default items are exported without name binding (default exports are sort-of fallback export values) <br>
            - transfered items (with <mark>export ... from</mark> 'aggregate export') are <u>not availabe in the current module</u> <br>
            - this statement cannot be used in embeded script (like in a function)   
            <span id="browserSupport" title="updated: 2021-02-03">
                <span><i class="fab fa-chrome"></i> 61 </span>
                <span><i class="fab fa-firefox"></i> 60 </span>
                <span><i class="fab fa-opera"></i> 48 </span>
                <span><i class="fab fa-internet-explorer"></i><i class="fab fa-edge"></i> 16 </span>
                <span><i class="fab fa-safari"></i> 10.1 </span>
                <span><i class="fab fa-node-js"></i> 15.3.0 </span>
                <span class="openable"> more... <div>
                    <p> - syntax <mark>export * as <strong>namespace</strong></mark> </p>
                    <span><i class="fab fa-chrome"></i> 72 </span>
                    <span><i class="fab fa-firefox"></i> 80 </span>
                    <span><i class="fab fa-opera"></i> 60 </span>
                    <span><i class="fab fa-internet-explorer"></i><i class="fab fa-edge"></i> 79 </span>
                    <span><i class="fab fa-safari"></i> NO </span>
                </div></span>
            </span>
        </td>
    </tr>
    <tr class="02.02">
        <td></td><td></td>
    </tr>
    <tr class="02.03">
        <td> 
            export <em>var|let|const</em> <strong>name</strong> <small>[= <i>val</i>]</small>, <i>...</i>
        </td>
        <td> 
            - exports one or multiple individual names <u>(<mark>var|let|const</mark> required only in front (ex: <mark>import var x 21, y = 22, z = 23</mark>))</u>
        </td>
    </tr>
    <tr class="02.04">
        <td></td><td></td>
    </tr>
    <tr class="02.05">
        <td> 
            export function <strong>fnName</strong>() {<i>...</i>}
        </td>
        <td> 
            - exports an individual function bound to a name
        </td>
    </tr>
    <tr class="02.06">
        <td></td><td></td>
    </tr>
    <tr class="02.07">
        <td> 
            export class <strong>className</strong> {<i>...</i>}
        </td>
        <td> 
            - exports an individual class bound to a name
        </td>
    </tr>
    <tr class="02.08">
        <td></td><td></td>
    </tr>
    <tr class="02.09">
        <td> 
            export {<strong>name</strong> <small>[as <i>newName</i>]</small>, <i>...</i>}
        </td>
        <td> 
            - exports a list of names (names can be renamed with the <mark>as</mark> keyword)
        </td>
    </tr>
    <tr class="02.10">
        <td></td><td></td>
    </tr>
    <tr class="02.11">
        <td> 
            export default <strong>exp</strong>
        </td>
        <td> 
            - exports the result of an expression as default
        </td>
    </tr>
    <tr class="02.13">
        <td></td><td></td>
    </tr>
    <tr class="02.14">
        <td> 
            export {<strong>name</strong> as default, <i>...</i>}
        </td>
        <td> 
            - exports the list name as default
        </td>
    </tr>
    <tr class="02.15">
        <td></td><td></td>
    </tr>
    <tr class="02.16">
        <td> 
            export default function<small>[*]</small> <i>name</i>(){<i>...</i>}
        </td>
        <td> 
            - exports the function (or generator function <mark>*</mark>) as default (<i>name</i> is visible on the import side but has no effect apparently)
        </td>
    </tr>
    <tr class="02.17">
        <td></td><td></td>
    </tr>
    <tr class="02.18">
        <td> 
            export default class <i>name</i>{<i>...</i>}
        </td>
        <td> 
            - exports the Class as default (<i>name</i> is visible on the import side but has no effect apparently)
        </td>
    </tr>
    <tr class="02.19">
        <td></td><td></td>
    </tr>
    <tr class="02.20">
        <td> 
            export * from <strong class="openable">specifier:str<div>
                <p><b><u>Relative Specifier</u></b></p>
                <p> - <mark>./main.js</mark> - relative path from the current location <u>(file extensions are required)</u>
                <p><b><u>Absolute Specifier</u></b></p>
                <p> - <mark>http://localhost:1000/users/user_x/main.js</mark> | <mark>/users/user_x/main.js</mark> - absolute URL (protocol and host are optional) (browser percent encoded)</u> </p>
            </div></strong>
        </td>
        <td> 
            - imports every named item from the specified module then exports them <u>(default not transfered)</u>
        </td>
    </tr>
    <tr class="02.21">
        <td></td><td></td>
    </tr>
    <tr class="02.22">
        <td> 
            export * as <strong>name</strong> from <strong class="openable">specifier:str<div>
                <p><b><u>Relative Specifier</u></b></p>
                <p> - <mark>./main.js</mark> - relative path from the current location <u>(file extensions are required)</u>
                <p><b><u>Absolute Specifier</u></b></p>
                <p> - <mark>http://localhost:1000/users/user_x/main.js</mark> | <mark>/users/user_x/main.js</mark> - absolute URL (protocol and host are optional) (browser percent encoded)</u> </p>
            </div></strong>
        </td>
        <td> 
            - imports every named item from the specified module then exports them in specified namespace (<strong>name</strong>) <u>(default value transfered)</u>
        </td>
    </tr>
    <tr class="02.23">
        <td></td><td></td>
    </tr>
    <tr class="02.24">
        <td> 
            export {<strong>name</strong> <small>[as <i>newName</i>]</small>, <i>...</i>} from <strong class="openable">specifier:str<div>
                <p><b><u>Relative Specifier</u></b></p>
                <p> - <mark>./main.js</mark> - relative path from the current location <u>(file extensions are required)</u>
                <p><b><u>Absolute Specifier</u></b></p>
                <p> - <mark>http://localhost:1000/users/user_x/main.js</mark> | <mark>/users/user_x/main.js</mark> - absolute URL (protocol and host are optional) (browser percent encoded)</u> </p>
            </div></strong>
        </td>
        <td> 
            - imports the specified named items from the specified module then exports them
        </td>
    </tr>
    <tr class="02.25">
        <td></td><td></td>
    </tr>
    <tr class="02.26">
        <td> 
            export { default } from <strong class="openable">specifier:str<div>
                <p><b><u>Relative Specifier</u></b></p>
                <p> - <mark>./main.js</mark> - relative path from the current location <u>(file extensions are required)</u>
                <p><b><u>Absolute Specifier</u></b></p>
                <p> - <mark>http://localhost:1000/users/user_x/main.js</mark> | <mark>/users/user_x/main.js</mark> - absolute URL (protocol and host are optional) (browser percent encoded)</u> </p>
            </div></strong>
        </td>
        <td> 
            - imports the default value from the specified module then export it as <u>default value</u>
        </td>
    </tr>
</table>
<h2 style="color:green;"><u> Notes : </u></h2>
    <details class="example" id="notes">
    <summary> Notes :</summary>
        <!-- <p> - paragraph removes the 'empty' message from the detail TAG -->
    </details>
<h2 style="color:green;"><u> Useful Links : </u></h2>
    
<h2 style="color:green;"><u> Remember This : </u></h2>
    <p> - browsers make separate requests for each modules (as expected) </p>
<h2 style="color:green;"><u> Description and Demonstration : </u></h2>
    <p> - Front-End modules work just like in Back-End (Node.js), the browser requests a script through the <mark>&lt;script&gt;</mark> tag which will be the top-level module </p>
    <p> - including <mark>type="module"</mark> in a script tag the browser treats the requested script as top-level ECMAScript module (ex: <mark>&lt;script src="main.mjs" type="module"&gt;&lt;/script&gt;</mark>) </p>
    <p> - the module can be requesed or directly embed in the document (between <mark>&lt;script type="module"&gt; &lt;/script&gt;</mark> tags) </p>
    <p> - Differences between modules and standard scripts: </p>
    <p style="text-indent:35px;"> - modules run only from a server (<mark>file://</mark> protocol not supported) </p>
    <p style="text-indent:35px;"> - browsers support only ECMAScript modules (no CommonJS) (the script in an ECMAScript module runs in 'strict mode') </p>
    <p style="text-indent:35px;"> - front-end modules are automatically deferred (no need to use a <mark>defer</mark> attribute) </p>
    <p style="text-indent:35px;"> - modules are executed only once, even if they have been referenced in multiple <mark>&lt;script&gt;</mark> tags </p>
<details class="example">
<summary> DEMO </summary>
    <pre>
// requested module -------------------------------------------------------------------
    &lt;script src="./main.mjs" type="module"&gt;&lt;/script&gt;                                   // the requested script is treated as top-level ECMA module by the browser 
    &lt;script src="./main.mjs" type="module"&gt;&lt;/script&gt;
    &lt;script src="./main.mjs" type="module"&gt;&lt;/script&gt;                                   // modules are executed only once ('main.mjs' runs only once)   
    
// embeded module ---------------------------------------------------------------------
    &lt;script type="module"&gt;                                                             // embeded script treated as top-level ECMA module by the browser  
        import def from './module1.mjs'
        
        def;                                                                           // -> imported data from 'module1.mjs'   
    &lt;/script&gt;
    </pre>
</details>
<details class="example">
<summary> Example : </summary>
<h4 style="color:darkblue;"><u> modules are executed only once TEST </u></h4>
    <pre>
// standard scrip ---------------------------------------------------------------------
    &lt;script src="./main.mjs"&gt;&lt;/script&gt;                                                 // executed as many times as referenced (3 times)
    &lt;script src="./main.mjs"&gt;&lt;/script&gt;
    &lt;script src="./main.mjs"&gt;&lt;/script&gt;
    
// module -----------------------------------------------------------------------------
    &lt;script src="./main.mjs" type="module"&gt;&lt;/script&gt;                                   // executed only once 
    &lt;script src="./main.mjs" type="module"&gt;&lt;/script&gt;
    &lt;script src="./main.mjs" type="module"&gt;&lt;/script&gt; 
    </pre>
<hr>
<!--------------------------------------------------------------------------------------------------->
<h4 style="color:darkblue;"><u> requested and ebeded script TEST </u></h4>
    <p> - requested module </p>
    <pre>
// HTML document ----------------------------------------------------------------------
    &lt;script src="./main.mjs" type="module"&gt;&lt;/script&gt;                                   // the requested script is treated as EC module   
    
    
// main.mjs (file) --------------------------------------------------------------------
    import def from './module1.mjs'
    
    console.log( def );                                                                // -> 'module1 data'
    
    
// module1.mjs (file) -----------------------------------------------------------------
    export default 'module1 data';
    </pre>
    <p> - embeded module </p>
    <pre>
// HTML document ----------------------------------------------------------------------
    &lt;script type="module"&gt;                                                             // embeded script treated as EC module 
        import def from './module1.mjs'
        
        console.log( def );
    &lt;/script&gt;
    
    
// module1.mjs (file) -----------------------------------------------------------------
    export default 'module1 data';
    </pre>
<hr>
<!--------------------------------------------------------------------------------------------------->
<h4 style="color:darkblue;"><u> separate requested for each modules TEST </u></h4>
    <p> - in this example browser makes 4 separate requests (for each modules) <mark>main.mjs</mark> / <mark>module1.mjs</mark> / <mark>module2.mjs</mark> / <mark>module3.mjs</mark> </p>
    <pre>
// HTML document ----------------------------------------------------------------------
    &lt;script src="./main.mjs" type="module"&gt;&lt;/script&gt;
    
    
// main.mjs (file) --------------------------------------------------------------------
    import module1 from './module1.mjs'
    import module2 from './module2.mjs'
    import module3 from './module3.mjs'
    
    console.log( module1 );
    console.log( module2 );
    console.log( module3 ); 
    
    
// module1.mjs (file) -----------------------------------------------------------------
    export default 'module1 data'; 
    
    
// module2.mjs (file) -----------------------------------------------------------------
    export default 'module2 data'; 
    
    
// module3.mjs (file) -----------------------------------------------------------------
    export default 'module3 data'; 
    </pre>
</details>
<hr>
<!--------------------------------------------------------------------------------------------------->
<h2 style="color:darkblue;"><u> The ECMAScript module <mark>import</mark> / <mark>import()</mark> / <mark>await import()</mark> / <mark>export</mark> / <mark>import.meta.url</mark> statements and property </u></h2>
<details class="example">
<summary> DEMO </summary>
    <p> <mark>import</mark> </p>
    <pre>
// no data imported -------------------------------------------------------------------
    import './module1.mjs';                                                            // no data imported, './module1.mjs' called for its side effect only  
    
// importing named items --------------------------------------------------------------
    import * as all from './module1.mjs';                                              // all named items (default included) are imported in the 'all' namespace 
    all;                                                                                   // -> {all named items default included ...}
    
    import {egy, ketto} from './module1.mjs';                                          // 'egy' and 'ketto' named items imported (named items are exported under the same name 'egy', 'ketto' in this case)    
    egy;                                                                                   // -> imported value under this name  
    ketto;                                                                                 // -> imported value under this name  
    
    import {egy as un, ketto as deux} from './module1.mjs';                            // rename named items while importing 
    un;                                                                                    // -> imported value under the 'egy' name  
    deux;                                                                                  // -> imported value under the 'ketto' name  
    
// import default value ---------------------------------------------------------------// -! only 1 default import allowed (bellow is for the sake of demo)    
    import def from './module1.mjs';                                                   // imports the default value     // def can be named as we like 
    def;                                                                                   // -> default export value of './module1.mjs'   
    
    import def, {ketto, harom as trois} from './module1.mjs';                          // imports the default value and other named items 
    def;                                                                                   // -> default export value of './module1.mjs'   
    ketto;                                                                                 // -> imported value under the 'ketto' name  
    trois;                                                                                 // -> imported value under the 'harom' name  
    
// dynamic import ---------------------------------------------------------------------
    import('./module2.mjs')                                                            // the required module is loaded once the current module is fully loaded     // -! not asynchronous loading!    
        .then(res => {res})                                                            // -> imported data will be available here  
        .catch(err => {err})
    </pre>
    <p> <mark>export</mark> </p>
    <pre>
// exporting individual features ------------------------------------------------------
    export var x = 21;                                                                 // exports one named item  
    export let x = 21, y = 'some string';                                              // exports multiple features     // -! var|let|const must be declared only once at the beginning    
    
    var a = 'one thing';
    var b = 'some other thing';
    export var a, b;                                                                   // exports a variable binding as named item    
    
    export function myFunc(a, b){return a + b}                                         // exports a function as 'myFunc' named item
    
    export class Cat{constructor(breed, color){this.breed = breed, this.color = color}};  // exports a class as 'Cat' named item  
    
// exporting a list of items ----------------------------------------------------------
    var a = 'one thing';
    var b = 'another thing';
    export {a, b};                                                                     // exporting a list of named items    
    
    export {a as one, b as two};                                                       // renames named items while exporting (importing modules will receive 'one' and 'two' named items)    
    
// default export ---------------------------------------------------------------------// -! only 1 default export allowed (bellow is for the sake of demo)    
    default 1 + 2;                                                                     // exports 3 as default export value  
    
    var a = 'default value';
    export {a as default};                                                             // exports the value of 'a' as default value  
    
    export default function(){return 'default value'}                                  // exports the function as default value 
    
    export default class {constructor(breed, color){this.breed = breed, this.color = color}};       // exports the class as default value   
    
    export default function myFunc(){return 'default value'}                                        // can have a name but I'm not sure what this does (doesn't seems do anything)    
    export default class Cat{constructor(breed, color){this.breed = breed, this.color = color}};    // can have a name but I'm not sure what this does (doesn't seems do anything)    
    
// aggregate export (import then export) ----------------------------------------------// -! the transfered data is not available in the current module    
    export * from './module2.mjs'                                                      // imports all named items from './module2.mjs' then export it   // -! default value is not transfered    
    
    export * as all from './module2.mjs'                                               // imports all named itmes (including default) and exports them in the 'all' namespace   // -! default not exported as default value    
    all;                                                                                   // -! Error thrown transfered items are not available here    
    
    export {egy, ketto} from './module2.mjs';                                          // imports the specified named items then exports them 
    export {ketto as deux} from './module2.mjs';                                       // renames the item whild transfering  
    egy;                                                                                   // -! Error thrown transfered items are not available here    
    deux;                                                                                  // -! Error thrown transfered items are not available here    
    
    export { default } from './module2.mjs';                                           // imports the default value then exports it as default value 
    </pre>
    <p> - <mark>import.meat.url</mark> property </p>
    <pre>
    import.meta.url;                                                                   // -> 'http://localhost:1000/03%20Improuve/Learn%20WebDesign/JavaScript/Web%20Browser%20APIs/Front-End%20Modules/main.mjs'       // the URL of the module    
    </pre>
    <p> - top level <mark>await</mark> (<mark>await import()</mark>) </p>
    <pre>
    await import('./module1.mjs');                                                     // -> {default:'data from module-1'}     // statically imports the './module1.mjs' module   
                                                                                       // does the same as 'import * as imp from './module1.mjs';'   
    
    function importFn1(){                                                              // the await import() is a satic import so cannot be used in a function body
        await import('./module1.mjs');                                                 // -! throws a SyntaxError: Unexpected reserved word 
    }
    </pre>
</details>
<details class="example">
<summary> Example : </summary>
<h4 style="color:darkblue;"><u> ECMAScript module specifies in front-end TEST </u></h4>
    <pre>
// absolute specifier -----------------------------------------------------------------
    import module1 from 'http://localhost:1000/03%20Improuve/Learn%20WebDesign/JavaScript/Web%20Browser%20APIs/Front-End%20Modules/module1.mjs';     
    import module2 from '/03%20Improuve/Learn%20WebDesign/JavaScript/Web%20Browser%20APIs/Front-End%20Modules/module1.mjs';     // protocol and host are optional 
    
// relative specifire -----------------------------------------------------------------
    import module3 from './module2.mjs'
    
// bare specifier ---------------------------------------------------------------------
    // import module3 from 'module3'                                                   // -! throws an error in front-end bare specifiers are not available   
    </pre>
<hr>
<!---------------------------------------------------------------------------------------------------->
<h4 style="color:darkblue;"><u> <mark>export</mark> TEST </u></h4>
    <p> - <mark>main.mjs</mark> file </p>
    <pre>
// (01) -------------------------------------------------------------------------------
    import * as all from './module1.mjs';
    
    console.log( all );                                                                // -> {Car:[class Car], a:1, add:[Function: add], b:2, c:3, x:21, y:22}    
    
    
// (02) -------------------------------------------------------------------------------
    import * as all from './module1.mjs';
    
    console.log( all );                                                                // -> {add:[Function:myFunction], x:21, y:22}   
    
// (03) -------------------------------------------------------------------------------
    import def from './module1.mjs';                                            
    
    console.log( def );                                                                // -> 2
    
// (04) -------------------------------------------------------------------------------
    import def from './module1.mjs';                                                   // -> 21  
    
    console.log( def );                                                                // -> 2
    
// (05) -------------------------------------------------------------------------------
    import def from './module1.mjs';                                                   // -> 21  
    
    console.log( def );                                                                // -> [Function: default] 
    
// (06) -------------------------------------------------------------------------------
    import def from './module1.mjs';                                                   // -> 21  
    
    console.log( def );                                                                // -> [Function: myFunction] 
    
// (07) -------------------------------------------------------------------------------
    import def from './module1.mjs';                                                   // -> 21  
    
    console.log( def );                                                                // -> [class: default] 
    
// (08) -------------------------------------------------------------------------------
    import def from './module1.mjs';                                                   // -> 21  
    
    console.log( def );                                                                // -> [class: myClass] 
    
// (09) -------------------------------------------------------------------------------
    import * as all from './module1.mjs';
    
    console.log( all );                                                                // -> {egy:1, harom:3, ketto:2}  // -! default not transfered   

// (10) -------------------------------------------------------------------------------
    import * as all from './module1.mjs';
    
    console.log( all );                                                                // -> {all:{default:0, egy:1, harom:3, ketto:2}  // -! default value is transfered but not as default   
    
// (11) -------------------------------------------------------------------------------
    import * as all from './module1.mjs';
    
    console.log( all );                                                                // -> {egy:1, harom:3}     
    
// (12) -------------------------------------------------------------------------------
    import def from './module1.mjs';
    
    console.log( def );                                                                // -> 0
    </pre>
    <p> - <mark>module1.mjs</mark> file </p>
    <pre>
// (01) individual export -------------------------------------------------------------  
    var y = 22;
    
    export var x = 21                                                                  // export locally assigned name 
    export var y                                                                       // export a binding 
    // export y                                                                        // -! not allowed the 'var|let|const' keyword required in front 
    export var a = 1, b = 2, c = 3;                                                    // exporting multiple individual names 
    
    export function add(a, b){ return a + b};                                          // exporting a function 
    
    export class Car{constructor(a, b){this.mark = a, this.type = b}};                 // exporting a class     
    
    
// (02) export a list -----------------------------------------------------------------  
    var x = 21;
    var y = 22;
    var myFunction = function(a, b){ return a + b};
    
    export {x, y, myFunction as add}                                                   // exporting a list of names (renamed one name)
    
    
// export defaults --------------------------------------------------------------------
// (03) -------------------------------------------------------------------------------
    export default 1 + 1;                                                              // exports the result of the expression  
    
// (04) -------------------------------------------------------------------------------
    var x = 21;
    export {x as default};                                                             // exports a name in the list as default   
    
// (05) -------------------------------------------------------------------------------
    export default function (){}                                                       // exports the function as default 
    
// (06) -------------------------------------------------------------------------------
    export default function myFunction(){}                                             // function name doesn't appear to have any effect (we can see on the import side but that's it)    
    
// (07) -------------------------------------------------------------------------------
    export default class {}                                                            // exports the class as default 
    
// (08) -------------------------------------------------------------------------------
    export default class Myclass{}                                                     // class name doesn't appear to have any effect (we can see on the import side but that's it)  
    
    
// aggregate export -------------------------------------------------------------------
// (09) -------------------------------------------------------------------------------
    export * from './module2.mjs';                                                     // imports every exported names from 'module2.mjs' then exports it as it is <u>(does not transfer the default)</u>   
    
// (10) -------------------------------------------------------------------------------
    export * as all from './module2.mjs';                                              // imports every exported names from 'module2.mjs' then exports them all in the 'all' named item    
    
    console.log(all);                                                                  // -! Error thrown (transfered items are not available in the current module)
    
// (11) -------------------------------------------------------------------------------
    export {egy, harom} from './module2.mjs';                                          // only the specified named items are imported then exported  

    console.log( egy, harom );                                                         // -! Error thrown (transfered items are not available in the current module)
    
// (11) -------------------------------------------------------------------------------
    export {default} from './module2.mjs';                                             // imports the default value from './module2.mjs' then exports it  
    </pre>
    <p> - <mark>module2.mjs</mark> file </p>
    <pre>
// (09) -------------------------------------------------------------------------------
    export default 0;
    export var egy = 1, ketto = 2, harom = 3;    
    
// (10) -------------------------------------------------------------------------------
    export default 0;
    export var egy = 1, ketto = 2, harom = 3;    
    
// (11) -------------------------------------------------------------------------------
    export default 0;
    export var egy = 1, ketto = 2, harom = 3;    
    
// (11) -------------------------------------------------------------------------------
    export default 0;
    export var egy = 1, ketto = 2, harom = 3;    
    </pre>
<hr>
<!---------------------------------------------------------------------------------------------------->
<h4 style="color:darkblue;"><u> <mark>import</mark> TEST </u></h4>
    <p> - <mark>main.mjs</mark> file </p>
    <pre>
// (01) -------------------------------------------------------------------------------
    import * as all from './module1.mjs';
    
    console.log( all );                                                                // -> {default:0, egy:1, harom:3, ketto:2}  
    
// (02) -------------------------------------------------------------------------------
    import {egy, ketto} from './module1.mjs';                                          // only 'egy' and 'ketto' named items are imported  
    
    console.log( egy, ketto );                                                         // -> 1   2  
    
// (03) -------------------------------------------------------------------------------
    import def from './module1.mjs';                                                   // default value imported  
    
    console.log( def );                                                                // -> 0
    
// (04) -------------------------------------------------------------------------------
    import def, {harom} from './module1.mjs';
    
    console.log( def );                                                                // -> 0
    console.log( harom );                                                              // -> 3  
    </pre>
    <p> - <mark>module1.mjs</mark> file </p>
    <pre>
// (01) -------------------------------------------------------------------------------
    export default 0;
    export var egy = 1, ketto = 2, harom = 3;    
    
// (02) -------------------------------------------------------------------------------
    export default 0;
    export var egy = 1, ketto = 2, harom = 3;    
    
// (03) -------------------------------------------------------------------------------
    export default 0;
    export var egy = 1, ketto = 2, harom = 3;    
    
// (04) -------------------------------------------------------------------------------
    export default 0;
    export var egy = 1, ketto = 2, harom = 3;    
    </pre>
</details>
<hr>
<!--------------------------------------------------------------------------------------------------->
<h2 style="color:darkblue;"><u> Top level <mark>await</mark> 
            <span class="browserSupport" title="updated : 2021-09-07">
                <span><i class="fab fa-chrome"></i> 89 </span>
                <span><i class="fab fa-firefox"></i> 89 </span>
                <span><i class="fab fa-opera"></i> 75 </span>
                <span><i class="fab fa-internet-explorer"></i><i class="fab fa-edge"></i> 89 </span>
                <span><i class="fab fa-safari"></i> 15 </span>
            </span>
</u></h2>
    <p> - in ECMA Modules the top level <mark>await</mark> is enabled (waits and blocks the global sope till the promise is fullfiled or rejected) </p>
<details class="example">
<summary> DEMO </summary>
  <pre>
  // &lt;script src="./topAwait.js" type="module"&gt;&lt;/script&gt; (file) -----------------------
  
  const resPromise = new Promise((res, rej) => {
    setTimeout(() => res('resolved!'), 3000);
  });
  const rejPromise = new Promise((res, rej) => {
    setTimeout(() => rej('rejected!'), 5000);
  });
  
  await resPromise;                                                                    // -> 'resolved!'     //  waits till the promise is resolved and returns the result 
  await rejPromise;                                                                    // waits till the promise is rejected which exits the program, block all furhter executesion and throws an UndhandledPromiseRejection error    
  
  console.log( '--end --' );                                                           // -! never executed because an awaited promise is rejected before this  
  </pre>
</details>

    <br><br>
</body>
</html>
